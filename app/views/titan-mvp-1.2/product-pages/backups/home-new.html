{% extends "layouts/main.html" %}
{% from "components/product-service-header/macro.njk" import productServiceHeader %}

{% block pageTitle %}
Home – {{ serviceName }} – GOV.UK Prototype Kit
{% endblock %}

{# {% block beforeContent %}
{{ govukBackLink({
text: "Back",
href: "javascript:window.history.back()"
}) }}
{% endblock %} #}

{% block header %}
{{ productServiceHeader({
organisationName: "Defra",
productName: "Form Designer",
serviceName: "",
homepageLink: "/titan-mvp-1.2/product-pages/homepage",
signInLink: "/titan-mvp-1.2/library",
navigationItems: [
{ href: "/titan-mvp-1.2/product-pages/about", text: "About", id: "nav-about" },

{ href: "/titan-mvp-1.2/product-pages/get-started", text: "Get started", id: "nav-get-started" },
{ href: "/titan-mvp-1.2/product-pages/features", text: "Features", id: "nav-features" },
{ href: "/titan-mvp-1.2/product-pages/resources", text: "Resources", id: "nav-resources" },
{ href: "/titan-mvp-1.2/product-pages/support", text: "Support", id: "nav-support" }
],
activeLinkId: "nav-home"
}) }}




{{ xGovukMasthead({
inverse: true,
title: {
text: "Create and publish Defra forms on GOV.UK"
},
description: {
text: "Make it easier for the public to submit information to Defra."
},
startButton: {
text: "Sign in",
href: "/titan-mvp-1.2/onboarding/sign-in"
},
image: {
src: "/public/images/homepage-icon2.svg",
alt: "Payment screen on mobile and dashboard with refund function."
}
}) }}



<div class="app-whats-new" style=" background-color: #EFF6F3;border-color:#00703c;">
    <div class=" govuk-main-wrapper govuk-main-wrapper--l">
        <div class="govuk-width-container">
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-two-thirds-from-desktop">
                    <h2 id="whats-new" class="govuk-heading-l">What's new</h2>

                    <h3 id="22-july-2025" class="govuk-heading-s">22 July 2025: Improved
                        conditions and accessibility</h3>
                    <p class="govuk-body">This release includes improvements to conditions and accessibility across
                        the
                        service.</p>
                    <p class="govuk-body">You can now:</p>
                    <ul class="govuk-list govuk-list--bullet">
                        <li>Delete conditions</li>
                        <li>Create and manage combined conditions</li>
                        <li>Apply conditions to guidance pages</li>
                        <li>View and manage all conditions from the new listing page</li>
                    </ul>
                    <p class="govuk-body">We've also made improvements to the interactive preview panel, enhanced
                        keyboard navigation with skip links, and fixed several defects – including issues with lost
                        repeater settings and missing hint text.</p>
                    <p class="govuk-body"><a href="#" class="govuk-link govuk-link--no-visited-state">Read about
                            previous updates in the full release
                            notes</a>.</p>

                    {# {{ govukDetails({
                    summaryText: "10 July 2025: Preview panel improvements and condition management",
                    html: '<p class="govuk-body">This included:</p>
                    <ul class="govuk-list govuk-list--bullet">
                        <li>Improvements to the preview panel, including error messages for single-question pages
                        </li>
                        <li>Fixes to how repeating questions display in the page overview</li>
                        <li>The ability to delete conditions</li>
                        <li>A safeguard preventing conditions being created from guidance pages</li>
                    </ul>
                    <p class="govuk-body">Read about previous updates in the <a href="#" class="govuk-link">full
                            release
                            notes for 10 July
                            2025</a> to see what\'s changed.</p>'
                    }) }} #}

                    {# {{ govukDetails({
                    summaryText: "16 April 2025: Service moved to new URL for improved access",
                    html: '<p class="govuk-body">You can now access it at <a href="https://forms.defra.gov.uk/"
                            class="govuk-link">https://forms.defra.gov.uk/</a></p>
                    <p class="govuk-body">This update replaces the previous URL:</p>
                    <p class="govuk-body"><a href="https://forms-designer.prod.cdp-int.defra.cloud/"
                            class="govuk-link">https://forms-designer.prod.cdp-int.defra.cloud/</a></p>
                    <p class="govuk-body">The move improves accessibility across ALBs.</p>
                    <p class="govuk-body">All your forms, files, and links will continue to work as normal, with
                        redirects in place.</p>
                    <p class="govuk-body">If you have any questions, contact us at <a
                            href="mailto:defraforms@defra.gov.uk" class="govuk-link">defraforms@defra.gov.uk</a></p>
                    '
                    }) }} #}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block content %}

<section class="feature-grid-container govuk-!-margin-top-6">
    <h2 class="govuk-heading-l">Do more with Form Designer</h2>
    <div class="feature-grid" role="list">

        <article class="feature-card feature-card--mint" role="listitem">
            <div class="feature-card__badge-wrap" aria-hidden="true"></div>
            <div class="feature-card__icon" aria-hidden="true">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                    aria-hidden="true" focusable="false">
                    <path d="M4 7h16M4 12h16M4 17h10" stroke="#0B0C0C" stroke-width="2" stroke-linecap="round" />
                </svg>
            </div>
            <h3 class="govuk-heading-m">Build accessible forms</h3>
            <p class="govuk-body">Create pages with GOV.UK components, validation and guidance built in.</p>
            <p class="feature-card__cta govuk-body"><a href="/titan-mvp-1.2/product-pages/features"
                    class="govuk-link govuk-link--no-visited-state">See features</a></p>
        </article>

        <article class="feature-card feature-card--sand" role="listitem">
            <div class="feature-card__icon" aria-hidden="true">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                    aria-hidden="true" focusable="false">
                    <path d="M4 5h6v6M4 5l6 6" stroke="#0B0C0C" stroke-width="2" stroke-linecap="round" />
                    <path d="M20 19h-6v-6M20 19l-6-6" stroke="#0B0C0C" stroke-width="2" stroke-linecap="round" />
                </svg>
            </div>
            <h3 class="govuk-heading-m">Conditions and routing</h3>
            <p class="govuk-body">Show or skip pages based on answers, and manage all conditions in one place.</p>
        </article>

        <article class="feature-card feature-card--peach" role="listitem">
            <div class="feature-card__icon" aria-hidden="true">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                    aria-hidden="true" focusable="false">
                    <path d="M12 5c4.5 0 8 5 8 7s-3.5 7-8 7-8-5-8-7 3.5-7 8-7Z" stroke="#0B0C0C" stroke-width="2" />
                    <circle cx="12" cy="12" r="2.5" fill="none" stroke="#0B0C0C" stroke-width="2" />
                </svg>
            </div>
            <h3 class="govuk-heading-m">Preview and collaborate</h3>
            <p class="govuk-body">Share draft previews, review changes and keep an audit trail of edits.</p>
            <div class="feature-card__thumb feature-card__thumb--16x9" aria-hidden="true">
                <video class="feature-card__video" muted playsinline preload="metadata"
                    style="background: white!important;" loop tabindex="-1"
                    poster="/public/images/preview-cropped-poster.jpg">
                    <source src="/public/images/preview-new.mp4">
                </video>
            </div>
        </article>

        <article class="feature-card feature-card--ice" role="listitem">
            <div class="feature-card__icon" aria-hidden="true">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                    aria-hidden="true" focusable="false">
                    <path d="M4 7h16M4 17h16M9 7v10M15 7v10" stroke="#0B0C0C" stroke-width="2" stroke-linecap="round" />
                </svg>

            </div>
            <h3 class="govuk-heading-m">Developer plugin</h3>
            <p class="govuk-body">Use the plugin to add form pages within your service codebase.</p>
            <p class="feature-card__cta govuk-body"><a href="#" class="govuk-link govuk-link--no-visited-state">Read the
                    documentation</a></p>
        </article>

        <article class="feature-card feature-card--lemon feature-card--soon" role="listitem">
            <span class="feature-card__badge govuk-tag govuk-tag--grey">Coming soon</span>
            <div class="feature-card__icon" aria-hidden="true">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                    aria-hidden="true" focusable="false">
                    <rect x="3" y="6" width="18" height="12" rx="2" stroke="#0B0C0C" stroke-width="2" />
                    <rect x="6" y="9" width="6" height="2" fill="#0B0C0C" />
                </svg>
            </div>
            <h3 class="govuk-heading-m">Payments</h3>
            <p class="govuk-body">Take secure online payments in your forms.</p>
            <div class="feature-card__thumb" aria-hidden="true">
                <svg viewBox="0 0 360 120" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
                    <rect x="0" y="0" width="360" height="120" fill="#ffffff" />
                    <rect x="20" y="24" width="224" height="16" rx="3" fill="#e5e6e7" />
                    <rect x="20" y="52" width="180" height="16" rx="3" fill="#e5e6e7" />
                    <rect x="20" y="80" width="140" height="16" rx="3" fill="#d0d3d6" />
                    <rect x="260" y="24" width="80" height="72" rx="6" fill="#f3f2f1" />
                </svg>
            </div>
        </article>

        <article class="feature-card feature-card--lilac feature-card--soon" role="listitem">
            <span class="feature-card__badge govuk-tag govuk-tag--grey">Coming soon</span>
            <div class="feature-card__icon" aria-hidden="true">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                    aria-hidden="true" focusable="false">
                    <path d="M8 7h8v10H8z" stroke="#0B0C0C" stroke-width="2" />
                    <path d="M16 10h2a3 3 0 0 1 0 6h-2" stroke="#0B0C0C" stroke-width="2" stroke-linecap="round" />
                </svg>
            </div>
            <h3 class="govuk-heading-m">Integrations</h3>
            <p class="govuk-body">Connect submissions to Power Automate, Make or your own webhooks.</p>
            <div class="feature-card__thumb" aria-hidden="true">
                <svg viewBox="0 0 360 120" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
                    <rect x="0" y="0" width="360" height="120" fill="#ffffff" />
                    <rect x="20" y="22" width="320" height="16" rx="3" fill="#e5e6e7" />
                    <rect x="20" y="50" width="260" height="16" rx="3" fill="#e5e6e7" />
                    <rect x="20" y="78" width="200" height="16" rx="3" fill="#d0d3d6" />
                    <circle cx="324" cy="58" r="10" fill="#d0d3d6" />
                </svg>
            </div>
        </article>

    </div>
</section>

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <p class="govuk-body">
            <a href="/titan-mvp-1.2/product-pages/about" class="govuk-link govuk-link--no-visited-state">Learn more
                about
                the Defra Forms team and our work to improve online forms</a>.
        </p>
    </div>
</div>
</div>
</div>

<style>
    /* --- Feature grid (Cognito-style cards, adapted to GOV.UK) --- */
    .feature-grid-container {}

    .feature-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 16px;
    }

    @media (min-width: 40.0625em) {

        /* tablet */
        .feature-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
    }

    @media (min-width: 63.9375em) {

        /* desktop */
        .feature-grid {
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
        }
    }

    .feature-card {
        position: relative;
        display: flex;
        flex-direction: column;
        min-height: 260px;
        padding: 24px;
        border: 1px solid #b1b4b6;
        /* GOV.UK mid-grey border */
        border-radius: 10px;
        background: #ffffff;
        box-shadow: 0 1px 0 rgba(11, 12, 12, 0.05);
        transition: transform .12s ease-out, box-shadow .12s ease-out, border-color .12s ease-out;
    }

    .feature-card:hover,
    .feature-card:focus-within {
        transform: translateY(-2px);
        border-color: #b1b4b6;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    .feature-card .govuk-heading-m {
        margin: 0 0 8px 0;
    }

    .feature-card .govuk-body {
        margin: 0;
    }

    .feature-card__cta {
        margin-top: 12px;
    }

    .feature-card__thumb {
        margin-top: auto;
        /* anchors the thumbnail at the bottom of the card */
        background: #ffffff;
        border: 1px solid #b1b4b6;
        border-radius: 8px;
        overflow: hidden;
    }

    /* Force a 16:9 display area and crop video to fill so no black side bars */
    .feature-card__thumb--16x9 {
        aspect-ratio: 16 / 9;
    }

    .feature-card__thumb--16x9 video {
        height: 100%;
        object-fit: cover;
        object-position: center;
        background: #ffffff;
    }

    .feature-card__thumb img,
    .feature-card__thumb svg,
    .feature-card__thumb video {
        display: block;
        width: 100%;
        height: auto;
    }

    .feature-card__icon {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 12px;
        background: rgba(255, 255, 255, 0.6);
        border: 1px solid rgba(0, 0, 0, 0.05);
    }

    .feature-card__icon svg {
        width: 28px;
        height: 28px;
    }

    /* subtle status badge (for "Coming soon") */
    .feature-card__badge {
        position: absolute;
        top: 8px;
        right: 8px;
    }

    /* Variant backgrounds using GOV.UK palette tints (approx of govuk-tint) */
    .feature-card--mint {
        background: #e6f1ec;
        border-color: #80b89e;
    }

    /* green 90% bg, 50% border */
    .feature-card--sand {
        background: #fffce6;
        border-color: #ffee80;
    }

    /* yellow 90% bg, 50% border */
    .feature-card--peach {
        background: #fef1eb;
        border-color: #fabb9c;
    }

    /* orange 90% bg, 50% border */
    .feature-card--ice {
        background: #e8f1f8;
        border-color: #8eb8dc;
    }

    /* blue 90% bg, 50% border */
    .feature-card--lemon {
        background: #fffce6;
        border-color: #ffee80;
    }

    /* yellow 90% bg, 50% border */
    .feature-card--lilac {
        background: #edeaf4;
        border-color: #a696c8;
    }

    /* purple 90% bg, 50% border */

    /* If moving this styling into application.scss, use the Sass API to stay in sync with GOV.UK Frontend:
    .feature-card--mint { background: govuk-tint($govuk-success-colour, 90%); border-color: govuk-tint($govuk-success-colour, 50%); }
    .feature-card--sand { background: govuk-tint(govuk-colour("yellow"), 90%); border-color: govuk-tint(govuk-colour("yellow"), 50%); }
    .feature-card--peach { background: govuk-tint(govuk-colour("orange"), 90%); border-color: govuk-tint(govuk-colour("orange"), 50%); }
    .feature-card--ice  { background: govuk-tint($govuk-brand-colour, 90%); border-color: govuk-tint($govuk-brand-colour, 50%); }
    .feature-card--lemon{ background: govuk-tint(govuk-colour("yellow"), 90%); border-color: govuk-tint(govuk-colour("yellow"), 50%); }
    .feature-card--lilac{ background: govuk-tint(govuk-colour("purple"), 90%); border-color: govuk-tint(govuk-colour("purple"), 50%); }
    */

    /* Optional: darker text on tinted backgrounds for contrast */
    .feature-card--mint .govuk-body,
    .feature-card--sand .govuk-body,
    .feature-card--peach .govuk-body,
    .feature-card--ice .govuk-body,
    .feature-card--lemon .govuk-body,
    .feature-card--lilac .govuk-body {
        color: #0b0c0c;
    }

    /* Enhanced styling inspired by Notion's visual concepts while maintaining GOV.UK Design System */
    .govuk-grid-row {
        display: flex;
        flex-wrap: wrap;
    }

    .govuk-grid-column-full,
    .govuk-grid-column-one-third-from-desktop {
        display: flex;
    }

    .govuk-card--feature {
        width: 100%;
        display: flex;
        flex-direction: column;
        transition: all 0.2s ease-in-out;
        border: 2px solid #b1b4b6;
        background-color: #ffffff;
    }

    /* .govuk-card--feature:hover {
        border-color: #0b0c0c;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    } */

    .govuk-card__content {
        flex: 1;
        display: flex;
        flex-direction: column;
        padding: 1.5rem;
    }

    .govuk-card__header {
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 1px solid #d8dde0;
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }

    .govuk-card__header h3 {
        margin: 0;
        color: #0b0c0c;
    }

    .feature-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 32px;
        height: 32px;
        flex-shrink: 0;
    }

    .govuk-card__content p,
    .govuk-card__content ul {
        flex: 1;
        margin-bottom: 0;
    }

    .govuk-card--coming-soon {
        /* opacity: 0.8; */
        background-color: #f8f9fa;
    }

    /* .govuk-card--coming-soon:hover {
        opacity: 1;
        background-color: #ffffff;
    } */

    .govuk-inset-text {
        border-left: 4px solid #00703c;
        background-color: #f8f9fa;
        padding: 1.5rem;
        margin: 2rem 0;
    }

    .govuk-body-l {
        font-size: 1.25rem;
        line-height: 1.5;
    }

    /* Enhanced spacing for better visual hierarchy */
    .govuk-heading-l {
        margin-bottom: 1.5rem;
    }

    .govuk-heading-m {
        margin-bottom: 1rem;
    }

    /* Improved card spacing */
    .govuk-card {
        margin-bottom: 1rem;
    }

    /* GOV.UK Related Navigation Component Styles */
    .gem-c-related-navigation {
        border-top: 2px solid #00703c;
        margin-bottom: 60px;
        color: #0b0c0c;
    }

    .gem-c-related-navigation__main-heading {
        margin-top: 15px;
        margin-bottom: 10px;
        font-family: "GDS Transport", arial, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        font-weight: 700;
        font-size: 1.1875rem;
        line-height: 1.3157894737;
    }

    .gem-c-related-navigation__nav-section {
        margin-bottom: 30px;
    }

    .gem-c-related-navigation__link-list {
        padding: 0;
        margin: 0;
        list-style: none;
        margin-bottom: 1.25em;
    }

    .gem-c-related-navigation__link {
        list-style-type: none;
        margin-top: 15px;
        font-family: "GDS Transport", arial, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        font-weight: 400;
        font-size: 1rem;
        line-height: 1.45;
    }

    @media (min-width: 40.0625em) {
        .gem-c-related-navigation__link {
            line-height: 1.28;
        }
    }

    @media all {
        .govuk-link {
            font-family: "GDS Transport", arial, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-decoration: underline;
            text-decoration-thickness: max(1px, .0625rem);
            text-underline-offset: .1578em;
        }
    }

    .gem-c-related-navigation__section-link {
        font-weight: bold;
    }

    .gem-c-related-navigation__section-link--other {
        font-weight: normal;
    }
</style>

<script>
    document.querySelectorAll('.feature-card__thumb img').forEach(img => {
        const still = img.getAttribute('src');
        const anim = img.dataset.gif;
        const card = img.closest('.feature-card');

        const play = () => img.src = anim;
        const stop = () => img.src = still;

        card.addEventListener('mouseenter', play);
        card.addEventListener('mouseleave', stop);
        card.addEventListener('focusin', play);
        card.addEventListener('focusout', stop);

        // Respect reduced motion
        if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
            card.removeEventListener('mouseenter', play);
            card.removeEventListener('focusin', play);
        }
    });
</script>
<script>
    (function () {
        var reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        var cards = document.querySelectorAll('.feature-card');
        cards.forEach(function (card) {
            var video = card.querySelector('.feature-card__thumb video');
            if (!video) return;

            function play() {
                if (reduceMotion) return;
                try {
                    video.currentTime = 0;
                    var p = video.play();
                    if (p && p.catch) { p.catch(function () { /* ignore autoplay block */ }); }
                } catch (e) { }
            }
            function stop() {
                try { video.pause(); } catch (e) { }
                try { video.currentTime = 0; } catch (e) { }
            }

            card.addEventListener('mouseenter', play);
            card.addEventListener('mouseleave', stop);
            card.addEventListener('focusin', play);
            card.addEventListener('focusout', stop);

            if ('IntersectionObserver' in window) {
                var io = new IntersectionObserver(function (entries) {
                    entries.forEach(function (entry) { if (!entry.isIntersecting) stop(); });
                }, { threshold: 0.1 });
                io.observe(video);
            }
        });
    })();
</script>
{% endblock %}