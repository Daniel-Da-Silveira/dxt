{% extends "layouts/main.html" %}

{% block pageTitle %}
Interactive Tutorial - Forms Designer
{% endblock %}

{% block header %}
{{ govukHeader({
homepageUrl: "#",
serviceName: "Forms Designer Tutorial",
serviceUrl: "#",
navigation: [],
containerClasses: "govuk-width-container"
}) }}
{% endblock %}

{% block beforeContent %}
<a href="#main-content" class="govuk-skip-link" data-module="govuk-skip-link">Skip to main content</a>

<!-- Back link (hidden on welcome section) -->
{# <div id="back-link-container" style="display: none;">
    {{ govukBackLink({
    text: "Back",
    href: "#",
    attributes: {
    onclick: "previousStep(); return false;"
    }
    }) }}
</div> #}
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
    <div id="sidebar" class="app-layout__sidebar govuk-grid-column-one-quarter">
        <moj-collapsible-nav open-class="app-vertical-nav__item--open" id="tutorial-nav">
            <nav class="app-vertical-nav" aria-labelledby="tutorial-nav-title">
                <h2 class="app-vertical-nav__header" id="tutorial-nav-title">Tutorial sections</h2>
                <ul class="app-vertical-nav__list">
                    <li class="app-vertical-nav__item app-vertical-nav__item--open">
                        <button aria-controls="tutorial-nav-collapsible-nav-0" aria-expanded="true"
                            class="app-vertical-nav__toggle">Getting Started<div class="app-vertical-nav__indicator">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M11.9999 10.5177L17.7928 16.3105L19.207 14.8963L11.9999 7.68923L4.79282 14.8963L6.20703 16.3105L11.9999 10.5177Z"
                                        fill="currentColor"></path>
                                </svg>
                            </div></button>
                        <ul class="app-vertical-nav__list" id="tutorial-nav-collapsible-nav-0">
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#text-inputs-summary">Types of written
                                    answers</a>
                            </li>
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#short-text">Short answer (a single line)</a>
                            </li>
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#long-text">Long answer (more than a single
                                    line)</a>
                            </li>
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#numbers">Numbers only</a>
                            </li>
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#email">Email address</a>
                            </li>
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#phone">Phone number</a>
                            </li>

                            {# <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#long-text">Long answer (more than a single
                                    line)</a>
                            </li> #}

                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#radio-buttons">Radios</a>
                            </li>
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#checkboxes">Checkboxes</a>
                            </li>
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#question-types">Choosing question types</a>
                            </li>
                        </ul>
                    </li>
                    <li class="app-vertical-nav__item">
                        <button aria-controls="tutorial-nav-collapsible-nav-1" aria-expanded="false"
                            class="app-vertical-nav__toggle">Writing & Design<div class="app-vertical-nav__indicator">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M11.9999 10.5177L17.7928 16.3105L19.207 14.8963L11.9999 7.68923L4.79282 14.8963L6.20703 16.3105L11.9999 10.5177Z"
                                        fill="currentColor"></path>
                                </svg>
                            </div></button>
                        <ul class="app-vertical-nav__list" hidden="" id="tutorial-nav-collapsible-nav-1">
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#writing-questions">Writing clear questions</a>
                            </li>
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#style-guide">GOV.UK style guide</a>
                            </li>
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#design">Good vs bad question design</a>
                            </li>
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#short-descriptions">Short descriptions</a>
                            </li>
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#short-description-practice">Short description
                                    practice</a>
                            </li>
                        </ul>
                    </li>
                    <li class="app-vertical-nav__item">
                        <button aria-controls="tutorial-nav-collapsible-nav-2" aria-expanded="false"
                            class="app-vertical-nav__toggle">Advanced Features<div class="app-vertical-nav__indicator">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M11.9999 10.5177L17.7928 16.3105L19.207 14.8963L11.9999 7.68923L4.79282 14.8963L6.20703 16.3105L11.9999 10.5177Z"
                                        fill="currentColor"></path>
                                </svg>
                            </div></button>
                        <ul class="app-vertical-nav__list" hidden="" id="tutorial-nav-collapsible-nav-2">
                            {# <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#guidance">Guidance pages</a>
                            </li> #}
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#guidance-design">Guidance design</a>
                            </li>
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#conditions">Conditions</a>
                            </li>
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#check-answers">Check answers pages</a>
                            </li>
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#declarations">Declarations</a>
                            </li>
                        </ul>
                    </li>
                    <li class="app-vertical-nav__item">
                        {# <button aria-controls="tutorial-nav-collapsible-nav-3" aria-expanded="false"
                            class="app-vertical-nav__toggle">Best Practices<div class="app-vertical-nav__indicator">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M11.9999 10.5177L17.7928 16.3105L19.207 14.8963L11.9999 7.68923L4.79282 14.8963L6.20703 16.3105L11.9999 10.5177Z"
                                        fill="currentColor"></path>
                                </svg>
                            </div></button> #}
                        {# <ul class="app-vertical-nav__list" hidden="" id="tutorial-nav-collapsible-nav-3">
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#accessibility">Accessibility</a>
                            </li>
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#builder">Interactive builder</a>
                            </li> #}
                            <li class="app-vertical-nav__item">
                                <a class="app-vertical-nav__link" href="#knowledge-check">Test your knowledge</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </moj-collapsible-nav>
    </div>

    <div class="govuk-grid-column-two-thirds">

        <!-- Welcome section -->
        <div id="welcome-section" class="tutorial-section">
            <h1 class="govuk-heading-l">Welcome to the Forms Designer Tutorial</h1>

            <p class="govuk-body-l">This interactive tutorial will teach you how to create effective forms using
                the
                Forms Designer. You'll learn about:</p>

            <ul class="govuk-list govuk-list--bullet">
                <li>Different question types and when to use them</li>
                <li>Guidance pages for providing information</li>
                <li>Conditions to show/hide pages based on answers</li>
                <li>Good form design principles</li>
                <li>How to write clear questions and guidance</li>
            </ul>

            <div class="govuk-inset-text">
                <p class="govuk-body">This tutorial is interactive - you'll be asked to make choices and see the
                    results. Take your time and experiment!</p>
            </div>

            <p class="govuk-body">This tutorial follows the <a href="https://design-system.service.gov.uk/"
                    class="govuk-link">GOV.UK Design System</a> and <a
                    href="https://www.gov.uk/guidance/style-guide/a-to-z" class="govuk-link">GOV.UK Style
                    Guide</a> to ensure your forms are accessible and consistent with government services.</p>

            {# {{ govukButton({
            text: "Start tutorial",
            href: "#",
            isStartButton: true,
            attributes: {
            onclick: "startTutorial(); return false;"
            }
            }) }} #}
        </div>

        <!-- Short text section -->
        <div id="short-text-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">Short answer (a single line)</h1>

            <p class="govuk-body">Short answer (a single line) inputs are perfect for names, titles, and brief answers.
                They're the
                most
                common type of text input in forms.</p>

            <p class="govuk-body">Learn more about <a href="https://design-system.service.gov.uk/components/text-input/"
                    class="govuk-link">text
                    inputs</a> in the GOV.UK Design System.</p>

            <div style="border: 1px solid #0b0c0c; padding: 20px; margin: 20px 0;">
                <h3 class="govuk-heading-s" style="margin-top: 0;">Example</h3>
                <div class="govuk-form-group">
                    <label class="govuk-label" for="example-text">What is your full name?</label>
                    <div class="govuk-hint">Enter your name exactly as it appears on official documents</div>
                    <input class="govuk-input" id="example-text" name="example-text" type="text">
                </div>
            </div>

            <h3 class="govuk-heading-m">When to use short answer (a single line):</h3>
            <ul class="govuk-list govuk-list--bullet">
                <li>Names (first name, last name, full name)</li>
                <li>Job titles and roles</li>
                <li>Short answers (yes/no, single words)</li>
                <li>Reference numbers or codes</li>
                <li>Any brief, single-line response</li>
            </ul>

            <!-- Test your knowledge: Short text inputs -->
            <div class="govuk-summary-card">
                <div class="govuk-summary-card__title-wrapper">
                    <h2 class="govuk-summary-card__title">Test your knowledge</h2>
                </div>
                <div class="govuk-summary-card__content">
                    <div class="govuk-inset-text">
                        <p class="govuk-body"><strong>Scenario:</strong> You're designing a form to collect a user's
                            National Insurance number.</p>
                    </div>

                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">What type of input should
                                you use?</legend>
                            <div class="govuk-radios" data-module="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="short-text-test-1" name="short-text-test"
                                        type="radio" value="short-text">
                                    <label class="govuk-label govuk-radios__label" for="short-text-test-1">Short text
                                        input</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="short-text-test-2" name="short-text-test"
                                        type="radio" value="long-text">
                                    <label class="govuk-label govuk-radios__label" for="short-text-test-2">Long text
                                        input</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="short-text-test-3" name="short-text-test"
                                        type="radio" value="number">
                                    <label class="govuk-label govuk-radios__label" for="short-text-test-3">Number
                                        input</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <button class="govuk-button govuk-button--secondary"
                        onclick="console.log('Button clicked!'); checkSectionAnswer('short-text-test', 'short-text', 'National Insurance numbers are brief, single-line responses that work perfectly with short text inputs.', 'National Insurance numbers are brief, single-line responses that work perfectly with short text inputs.'); return false;">
                        Check answer
                    </button>

                    <div id="short-text-feedback" style="display: none; margin-top: 20px;">
                    </div>
                </div>
            </div>
        </div>

        <!-- Email address section -->
        <div id="email-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">Email address</h1>

            <p class="govuk-body">Email address inputs are specifically designed for email addresses with built-in
                validation and formatting.</p>

            <p class="govuk-body">Learn more about <a href="https://design-system.service.gov.uk/components/text-input/"
                    class="govuk-link">text
                    inputs</a> in the GOV.UK Design System.</p>

            <div style="border: 1px solid #0b0c0c; padding: 20px; margin: 20px 0;">
                <h3 class="govuk-heading-s" style="margin-top: 0;">Example</h3>
                <div class="govuk-form-group">
                    <label class="govuk-label" for="example-email">What is your email address?</label>
                    <div class="govuk-hint">We'll use this to send you confirmation of your application</div>
                    <input class="govuk-input" id="example-email" name="example-email" type="email">
                </div>
            </div>

            <h3 class="govuk-heading-m">When to use email inputs:</h3>
            <ul class="govuk-list govuk-list--bullet">
                <li>Contact email addresses</li>
                <li>Account registration</li>
                <li>Newsletter signups</li>
                <li>Any form requiring email communication</li>
                <li>User account details</li>
            </ul>

            <!-- Test your knowledge: Email inputs -->
            <div class="govuk-summary-card">
                <div class="govuk-summary-card__title-wrapper">
                    <h2 class="govuk-summary-card__title">Test your knowledge</h2>
                </div>
                <div class="govuk-summary-card__content">
                    <div class="govuk-inset-text">
                        <p class="govuk-body"><strong>Scenario:</strong> You're designing a form for user registration.
                            You
                            need to collect their
                            email
                            address for account verification.</p>
                    </div>

                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">What type of input should
                                you use?</legend>
                            <div class="govuk-radios" data-module="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="email-test-1" name="email-test" type="radio"
                                        value="email">
                                    <label class="govuk-label govuk-radios__label" for="email-test-1">Email
                                        input</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="email-test-2" name="email-test" type="radio"
                                        value="text">
                                    <label class="govuk-label govuk-radios__label" for="email-test-2">Text
                                        input</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="email-test-3" name="email-test" type="radio"
                                        value="textarea">
                                    <label class="govuk-label govuk-radios__label" for="email-test-3">Textarea</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <button class="govuk-button govuk-button--secondary"
                        onclick="checkSectionAnswer('email-test', 'email', 'Email inputs provide built-in validation and formatting specifically for email addresses.', 'Email inputs provide built-in validation and formatting specifically for email addresses.'); return false;">
                        Check answer
                    </button>

                    <div id="email-feedback" style="display: none; margin-top: 20px;">
                    </div>
                </div>
            </div>
        </div>

        <!-- Phone number section -->
        <div id="phone-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">Phone number</h1>

            <p class="govuk-body">Phone number inputs are designed for telephone numbers with proper formatting and
                validation for different phone number formats.</p>

            <p class="govuk-body">Learn more about <a href="https://design-system.service.gov.uk/components/text-input/"
                    class="govuk-link">text
                    inputs</a> in the GOV.UK Design System.</p>

            <div style="border: 1px solid #0b0c0c; padding: 20px; margin: 20px 0;">
                <h3 class="govuk-heading-s" style="margin-top: 0;">Example</h3>
                <div class="govuk-form-group">
                    <label class="govuk-label" for="example-phone">What is your phone number?</label>
                    <div class="govuk-hint">Include the country code if you're outside the UK</div>
                    <input class="govuk-input" id="example-phone" name="example-phone" type="tel">
                </div>
            </div>

            <h3 class="govuk-heading-m">When to use phone inputs:</h3>
            <ul class="govuk-list govuk-list--bullet">
                <li>Contact phone numbers</li>
                <li>Mobile numbers</li>
                <li>Landline numbers</li>
                <li>International numbers</li>
                <li>Emergency contact details</li>
            </ul>


        </div>

        <!-- Numbers section -->
        <div id="numbers-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">Numbers only</h1>

            <p class="govuk-body">Numbers only inputs are designed for numerical data like amounts, quantities, or IDs.
                They
                provide better user experience for numeric data entry.</p>

            <p class="govuk-body">Learn more about <a href="https://design-system.service.gov.uk/components/text-input/"
                    class="govuk-link">text
                    inputs</a> in the GOV.UK Design System.</p>

            <div style="border: 1px solid #0b0c0c; padding: 20px; margin: 20px 0;">
                <h3 class="govuk-heading-s" style="margin-top: 0;">Example</h3>
                <div class="govuk-form-group">
                    <label class="govuk-label" for="example-number">How many items do you need?</label>
                    <div class="govuk-hint">Enter a number between 1 and 100</div>
                    <input class="govuk-input" id="example-number" name="example-number" type="number">
                </div>
            </div>

            <h3 class="govuk-heading-m">When to use numbers only:</h3>
            <ul class="govuk-list govuk-list--bullet">
                <li>Quantities and amounts</li>
                <li>Age and dates</li>
                <li>Reference numbers</li>
                <li>Calculations and totals</li>
                <li>Any numeric data</li>
            </ul>


        </div>

        <!-- Long text section -->
        <div id="long-text-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">Long answer (more than a single line)</h1>

            <p class="govuk-body">Long answer (more than a single line) inputs are perfect for longer responses,
                explanations, or
                detailed information that needs more space than a single line.</p>

            <p class="govuk-body">Learn more about <a href="https://design-system.service.gov.uk/components/textarea/"
                    class="govuk-link">textareas</a> in the GOV.UK Design System.</p>

            <div style="border: 1px solid #0b0c0c; padding: 20px; margin: 20px 0;">
                <h3 class="govuk-heading-s" style="margin-top: 0;">Example</h3>
                <div class="govuk-form-group">
                    <label class="govuk-label" for="example-textarea">Please describe your requirements</label>
                    <div class="govuk-hint">Provide as much detail as possible to help us understand your needs
                    </div>
                    <textarea class="govuk-textarea" id="example-textarea" name="example-textarea" rows="5"></textarea>
                </div>
            </div>

            <h3 class="govuk-heading-m">When to use long answer (more than a single line):</h3>
            <ul class="govuk-list govuk-list--bullet">
                <li>Detailed explanations</li>
                <li>Comments and feedback</li>
                <li>Addresses and descriptions</li>
                <li>Long-form content</li>
                <li>Any response that needs multiple lines</li>
            </ul>


        </div>

        <!-- Text inputs summary section -->
        <div id="text-inputs-summary-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">Text input types summary</h1>

            <p class="govuk-body">Now that you've learned about each text input type, here's a quick summary to help
                you
                choose the right one for your forms.</p>

            <div class="govuk-summary-list">
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">Short answer (a single line)</dt>
                    <dd class="govuk-summary-list__value">Names, titles, brief answers</dd>
                    <dd class="govuk-summary-list__actions">
                        <span class="govuk-tag govuk-tag--green">Most common</span>
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">Email address</dt>
                    <dd class="govuk-summary-list__value">Email addresses with validation</dd>
                    <dd class="govuk-summary-list__actions">
                        <span class="govuk-tag govuk-tag--blue">Contact info</span>
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">Phone number</dt>
                    <dd class="govuk-summary-list__value">Telephone numbers with formatting</dd>
                    <dd class="govuk-summary-list__actions">
                        <span class="govuk-tag govuk-tag--blue">Contact info</span>
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">Numbers only</dt>
                    <dd class="govuk-summary-list__value">Quantities, amounts, IDs</dd>
                    <dd class="govuk-summary-list__actions">
                        <span class="govuk-tag govuk-tag--purple">Numeric data</span>
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">Long answer (more than a single line)</dt>
                    <dd class="govuk-summary-list__value">Detailed explanations, comments</dd>
                    <dd class="govuk-summary-list__actions">
                        <span class="govuk-tag govuk-tag--orange">Multi-line</span>
                    </dd>
                </div>
            </div>

            <div class="govuk-inset-text">
                <p class="govuk-body"><strong>Key principles:</strong></p>
                <ul class="govuk-list govuk-list--bullet">
                    <li>Choose the input type that best matches your data</li>
                    <li>Use specific inputs (email, phone, number) when appropriate</li>
                    <li>Provide clear labels and helpful hints</li>
                    <li>Consider user experience and validation needs</li>
                </ul>
            </div>


        </div>

        <!-- Radio buttons section -->
        <div id="radio-buttons-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">When should you use radios?</h1>

            <p class="govuk-body">Radios are used when users must choose one option from a list. The
                Forms
                Designer offers different types for different scenarios.</p>

            <p class="govuk-body">Learn more about <a href="https://design-system.service.gov.uk/components/radios/"
                    class="govuk-link">radio
                    buttons</a> in the GOV.UK Design System.</p>

            <div class="govuk-grid-row">
                <div class="govuk-grid-column-one-half">
                    <h3 class="govuk-heading-m">Standard radios</h3>
                    <p class="govuk-body">For choosing one option from a list.</p>
                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend">How did you hear about us?</legend>
                            <div class="govuk-hint">This helps us understand which channels work best</div>
                            <div class="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="social-media" name="hear-about" type="radio"
                                        value="social-media">
                                    <label class="govuk-label govuk-radios__label" for="social-media">Social
                                        media</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="friend" name="hear-about" type="radio"
                                        value="friend">
                                    <label class="govuk-label govuk-radios__label" for="friend">Friend or
                                        colleague</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
                <div class="govuk-grid-column-one-half">
                    <h3 class="govuk-heading-m">Yes/No questions</h3>
                    <p class="govuk-body">For simple yes/no or true/false questions.</p>
                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend">Are you 18 or older?</legend>
                            <div class="govuk-hint">You must be 18 or older to use this service</div>
                            <div class="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="yes" name="age-check" type="radio"
                                        value="yes">
                                    <label class="govuk-label govuk-radios__label" for="yes">Yes</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="no" name="age-check" type="radio" value="no">
                                    <label class="govuk-label govuk-radios__label" for="no">No</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div>

            <!-- Test your knowledge: Radios -->
            <div class="govuk-summary-card">
                <div class="govuk-summary-card__title-wrapper">
                    <h2 class="govuk-summary-card__title">Test your knowledge</h2>
                </div>
                <div class="govuk-summary-card__content">
                    <div class="govuk-inset-text">
                        <p class="govuk-body"><strong>Scenario:</strong> You're designing a form for a driving license
                            application. You need to ask
                            users to select their preferred method of contact.</p>
                    </div>

                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">What type of input should
                                you use?</legend>
                            <div class="govuk-radios" data-module="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="radio-test-1" name="radio-test" type="radio"
                                        value="radio">
                                    <label class="govuk-label govuk-radios__label" for="radio-test-1">Radio
                                        buttons</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="radio-test-2" name="radio-test" type="radio"
                                        value="checkbox">
                                    <label class="govuk-label govuk-radios__label" for="radio-test-2">Checkboxes</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="radio-test-3" name="radio-test" type="radio"
                                        value="text">
                                    <label class="govuk-label govuk-radios__label" for="radio-test-3">Text input</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <button class="govuk-button govuk-button--secondary"
                        onclick="checkSectionAnswer('radio-test', 'radio', 'Since users can only have one preferred contact method, radios are the best choice for single selection.', 'Since users can only have one preferred contact method, radios are the best choice for single selection.'); return false;">
                        Check answer
                    </button>

                    <div id="radio-feedback" style="display: none; margin-top: 20px;">
                    </div>
                </div>
            </div>
        </div>

        <!-- Checkboxes section -->
        <div id="checkboxes-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">When should you use checkboxes?</h1>

            <p class="govuk-body">Checkboxes are used when users can select multiple options. The Forms Designer
                offers different input types for different needs.</p>

            <p class="govuk-body">Learn more about <a href="https://design-system.service.gov.uk/components/checkboxes/"
                    class="govuk-link">checkboxes</a> in the GOV.UK Design System.</p>

            <div class="govuk-grid-row">
                <div class="govuk-grid-column-one-half">
                    <h3 class="govuk-heading-m">Standard checkboxes</h3>
                    <p class="govuk-body">For selecting multiple options from a list.</p>
                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend">Which services are you interested in?
                            </legend>
                            <div class="govuk-hint">Select all that apply</div>
                            <div class="govuk-checkboxes">
                                <div class="govuk-checkboxes__item">
                                    <input class="govuk-checkboxes__input" id="service-1" name="services"
                                        type="checkbox" value="consulting">
                                    <label class="govuk-label govuk-checkboxes__label"
                                        for="service-1">Consulting</label>
                                </div>
                                <div class="govuk-checkboxes__item">
                                    <input class="govuk-checkboxes__input" id="service-2" name="services"
                                        type="checkbox" value="training">
                                    <label class="govuk-label govuk-checkboxes__label" for="service-2">Training</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
                <div class="govuk-grid-column-one-half">
                    <h3 class="govuk-heading-m">Other input types</h3>
                    <p class="govuk-body">The Forms Designer also includes:</p>
                    <ul class="govuk-list govuk-list--bullet">
                        <li><strong>Text areas</strong> - for longer text responses</li>
                        <li><strong>Date inputs</strong> - for dates and time periods</li>
                        <li><strong>File uploads</strong> - for documents and images</li>
                        <li><strong>Address inputs</strong> - for full addresses</li>
                    </ul>
                </div>
            </div>

            <!-- Test your knowledge: Checkboxes -->
            <div class="govuk-summary-card">
                <div class="govuk-summary-card__title-wrapper">
                    <h2 class="govuk-summary-card__title">Test your knowledge</h2>
                </div>
                <div class="govuk-summary-card__content">
                    <div class="govuk-inset-text">
                        <p class="govuk-body"><strong>Scenario:</strong> You're designing a form for a job application.
                            You
                            need to ask users to
                            select
                            all the languages they speak fluently.</p>
                    </div>

                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">What type of input should
                                you use?</legend>
                            <div class="govuk-radios" data-module="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="checkbox-test-1" name="checkbox-test"
                                        type="radio" value="radio">
                                    <label class="govuk-label govuk-radios__label" for="checkbox-test-1">Radio
                                        buttons</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="checkbox-test-2" name="checkbox-test"
                                        type="radio" value="checkbox">
                                    <label class="govuk-label govuk-radios__label"
                                        for="checkbox-test-2">Checkboxes</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="checkbox-test-3" name="checkbox-test"
                                        type="radio" value="text">
                                    <label class="govuk-label govuk-radios__label" for="checkbox-test-3">Text
                                        input</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <button class="govuk-button govuk-button--secondary"
                        onclick="checkSectionAnswer('checkbox-test', 'checkbox', 'Since users can speak multiple languages, checkboxes are the best choice. They allow users to select all that apply.', 'Since users can speak multiple languages, checkboxes are the best choice. They allow users to select all that apply.'); return false;">
                        Check answer
                    </button>

                    <div id="checkbox-feedback" style="display: none; margin-top: 20px;">
                    </div>
                </div>
            </div>
        </div>

        <!-- Guidance pages section -->
        <div id="guidance-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">When should you use guidance pages?</h1>

            <p class="govuk-body">Guidance pages provide information to users without requiring them to answer
                questions. They help users understand what they need to do next.</p>

            <p class="govuk-body">Learn more about <a href="https://design-system.service.gov.uk/components/inset-text/"
                    class="govuk-link">inset
                    text</a> and <a href="https://design-system.service.gov.uk/components/panel/"
                    class="govuk-link">panels</a> for displaying guidance content.</p>

            <ul class="govuk-list govuk-list--bullet">
                <li>Explaining what users need before starting</li>
                <li>Providing additional information or context</li>
                <li>Showing users they're not eligible for something</li>
                <li>Giving instructions or next steps</li>
            </ul>

            <div class="govuk-inset-text">
                <h3 class="govuk-heading-s">Example guidance page:</h3>
                <p class="govuk-body"><strong>Heading:</strong> "You're not eligible for this service"</p>
                <p class="govuk-body"><strong>Content:</strong> "Based on your answers, you cannot apply for
                    this
                    service. You must be 18 or older to continue."</p>
            </div>


        </div>

        <!-- Conditions section -->
        <div id="conditions-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">How do conditions work?</h1>

            <p class="govuk-body">Conditions let you show or hide pages based on how users answer previous
                questions. This creates dynamic, personalised forms that adapt to user needs by showing relevant pages.
            </p>

            <p class="govuk-body">Learn more about <a
                    href="https://design-system.service.gov.uk/patterns/question-pages/" class="govuk-link">question
                    pages</a> and form design patterns.</p>

            <div class="govuk-inset-text">
                <h3 class="govuk-heading-s">Example:</h3>
                <p class="govuk-body">If a user answers "No" to "Are you 18 or older?", you can show a
                    guidance
                    page saying they're not eligible, instead of showing the main application form.</p>
            </div>

            <div class="govuk-grid-row">
                <div class="govuk-grid-column-one-half">
                    <h3 class="govuk-heading-m">When to use conditions:</h3>
                    <ul class="govuk-list govuk-list--bullet">
                        <li>Show relevant pages based on previous answers</li>
                        <li>Display different guidance based on user responses</li>
                        <li>Create personalised user journeys</li>
                        <li>Show appropriate content for different user types</li>
                    </ul>
                </div>
                <div class="govuk-grid-column-one-half">
                    <h3 class="govuk-heading-m">Common patterns:</h3>
                    <ul class="govuk-list govuk-list--bullet">
                        <li>Age or eligibility checks</li>
                        <li>Location-based content</li>
                        <li>Service-specific guidance</li>
                        <li>Eligibility or exit pages</li>
                    </ul>
                </div>
            </div>

            <!-- Test your knowledge: Conditions -->
            {# <div class="govuk-summary-card">
                <div class="govuk-summary-card__title-wrapper">
                    <h2 class="govuk-summary-card__title">Test your knowledge</h2>
                </div>
                <div class="govuk-summary-card__content">
                    <div class="govuk-inset-text">
                        <p class="govuk-body"><strong>Scenario:</strong> You're designing a form for a benefits service.
                            You
                            need to show different
                            pages based on whether the user is over 18 or not.</p>
                    </div>

                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">What feature should you
                                use?</legend>
                            <div class="govuk-radios" data-module="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="conditions-test-1" name="conditions-test"
                                        type="radio" value="conditions">
                                    <label class="govuk-label govuk-radios__label"
                                        for="conditions-test-1">Conditions</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="conditions-test-2" name="conditions-test"
                                        type="radio" value="guidance">
                                    <label class="govuk-label govuk-radios__label" for="conditions-test-2">Guidance
                                        pages</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="conditions-test-3" name="conditions-test"
                                        type="radio" value="check-answers">
                                    <label class="govuk-label govuk-radios__label" for="conditions-test-3">Check
                                        answers
                                        page</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <button class="govuk-button govuk-button--secondary"
                        onclick="checkSectionAnswer('conditions-test', 'conditions', 'Conditions allow you to show or hide pages based on user answers, creating personalized experiences.', 'Conditions allow you to show or hide pages based on user answers, creating personalized experiences.'); return false;">
                        Check answer
                    </button>

                    <div id="conditions-feedback" style="display: none; margin-top: 20px;">
                    </div>
                </div>
            </div> #}

            <!-- Practical Condition Tests -->
            <div class="govuk-summary-card govuk-!-margin-top-6">
                <div class="govuk-summary-card__title-wrapper">
                    <h2 class="govuk-summary-card__title">Practice creating conditions</h2>
                </div>
                <div class="govuk-summary-card__content">
                    <p class="govuk-body">Try these practical exercises to learn how to create conditions in your form
                        builder.</p>

                    <!-- Test 1: Basic Condition -->
                    <div class="govuk-inset-text govuk-!-margin-top-4">
                        <h3 class="govuk-heading-s">Exercise 1: Age-based eligibility</h3>
                        <p class="govuk-body"><strong>Scenario:</strong> You're creating a benefits form. You need to
                            show different pages based on whether the user is over 18.</p>
                        <p class="govuk-body"><strong>Task:</strong> Create a condition that shows a guidance page for
                            users under 18.</p>
                        <div class="govuk-form-group">
                            <fieldset class="govuk-fieldset">
                                <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">What would you select?
                                </legend>
                                <div class="govuk-radios govuk-radios--small">
                                    <div class="govuk-radios__item">
                                        <input class="govuk-radios__input" id="practice-1-a" name="practice-1"
                                            type="radio" value="a">
                                        <label class="govuk-label govuk-radios__label" for="practice-1-a">
                                            Question: "Are you 18 or older?" | Operator: "is" | Value: "No"
                                        </label>
                                    </div>
                                    <div class="govuk-radios__item">
                                        <input class="govuk-radios__input" id="practice-1-b" name="practice-1"
                                            type="radio" value="b">
                                        <label class="govuk-label govuk-radios__label" for="practice-1-b">
                                            Question: "What is your age?" | Operator: "is" | Value: "Under 18"
                                        </label>
                                    </div>
                                    <div class="govuk-radios__item">
                                        <input class="govuk-radios__input" id="practice-1-c" name="practice-1"
                                            type="radio" value="c">
                                        <label class="govuk-label govuk-radios__label" for="practice-1-c">
                                            Question: "Are you 18 or older?" | Operator: "is not" | Value: "Yes"
                                        </label>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <button class="govuk-button govuk-button--secondary"
                            onclick="checkPracticeAnswer('practice-1', 'a', 'Correct! A yes/no question is the right approach for this scenario.', 'Use a yes/no question instead. Age questions with dropdown options like Under 18 would not exist in a real form.'); return false;">
                            Check answer
                        </button>
                        <div id="practice-1-feedback" style="display: none; margin-top: 10px;"></div>
                    </div>

                    <!-- Test 2: Multiple Conditions -->
                    <div class="govuk-inset-text govuk-!-margin-top-4">
                        <h3 class="govuk-heading-s">Exercise 2: Complex eligibility</h3>
                        <p class="govuk-body"><strong>Scenario:</strong> You're creating a farming subsidy form. Users
                            must be over 18 AND have a valid farming license.</p>
                        <p class="govuk-body"><strong>Task:</strong> Create a condition that combines two requirements.
                        </p>
                        <div class="govuk-form-group">
                            <fieldset class="govuk-fieldset">
                                <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">How would you combine
                                    these conditions?</legend>
                                <div class="govuk-radios govuk-radios--small">
                                    <div class="govuk-radios__item">
                                        <input class="govuk-radios__input" id="practice-2-a" name="practice-2"
                                            type="radio" value="a">
                                        <label class="govuk-label govuk-radios__label" for="practice-2-a">
                                            Use "AND" - both conditions must be met
                                        </label>
                                    </div>
                                    <div class="govuk-radios__item">
                                        <input class="govuk-radios__input" id="practice-2-b" name="practice-2"
                                            type="radio" value="b">
                                        <label class="govuk-label govuk-radios__label" for="practice-2-b">
                                            Use "OR" - either condition can be met
                                        </label>
                                    </div>
                                    <div class="govuk-radios__item">
                                        <input class="govuk-radios__input" id="practice-2-c" name="practice-2"
                                            type="radio" value="c">
                                        <label class="govuk-label govuk-radios__label" for="practice-2-c">
                                            Create separate conditions for each requirement
                                        </label>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <button class="govuk-button govuk-button--secondary"
                            onclick="checkPracticeAnswer('practice-2', 'a', 'Correct! Using AND ensures both conditions must be met before showing the main application form.', 'Use AND to combine conditions. This ensures users must meet both requirements before they can proceed.'); return false;">
                            Check answer
                        </button>
                        <div id="practice-2-feedback" style="display: none; margin-top: 10px;"></div>
                    </div>

                    <!-- Test 3: Condition Application -->
                    <div class="govuk-inset-text govuk-!-margin-top-4">
                        <h3 class="govuk-heading-s">Exercise 3: Applying conditions to pages</h3>
                        <p class="govuk-body"><strong>Scenario:</strong> You've created a condition called "Not eligible
                            for subsidy". You want to show a guidance page instead of the main form.</p>
                        <p class="govuk-body"><strong>Task:</strong> Which pages should you apply this condition to?</p>
                        <div class="govuk-form-group">
                            <fieldset class="govuk-fieldset">
                                <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">Select the correct
                                    pages:</legend>
                                <div class="govuk-radios govuk-radios--small">
                                    <div class="govuk-radios__item">
                                        <input class="govuk-radios__input" id="practice-3-a" name="practice-3"
                                            type="radio" value="a">
                                        <label class="govuk-label govuk-radios__label" for="practice-3-a">
                                            Where do you live? (Page 2)
                                        </label>
                                    </div>
                                    <div class="govuk-radios__item">
                                        <input class="govuk-radios__input" id="practice-3-b" name="practice-3"
                                            type="radio" value="b">
                                        <label class="govuk-label govuk-radios__label" for="practice-3-b">
                                            You need to be over 18 to use this form (Page 3)
                                        </label>
                                    </div>
                                    <div class="govuk-radios__item">
                                        <input class="govuk-radios__input" id="practice-3-c" name="practice-3"
                                            type="radio" value="c">
                                        <label class="govuk-label govuk-radios__label" for="practice-3-c">
                                            Check answers page (Page 4)
                                        </label>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <button class="govuk-button govuk-button--secondary"
                            onclick="checkPracticeAnswer('practice-3', 'b', 'Correct! Apply the condition to the guidance page so it shows when users are NOT eligible. The location form should show when users ARE eligible.', 'You should apply the condition to the guidance page. This way, users who are not eligible will see the guidance page, which can be marked as an exit page to prevent them from continuing.'); return false;">
                            Check answer
                        </button>
                        <div id="practice-3-feedback" style="display: none; margin-top: 10px;"></div>
                    </div>

                    <!-- Test 4: Condition Types -->
                    <div class="govuk-inset-text govuk-!-margin-top-4">
                        <h3 class="govuk-heading-s">Exercise 4: Different question types</h3>
                        <p class="govuk-body"><strong>Scenario:</strong> You have a question "What languages do you
                            speak?" with checkboxes for English, Welsh, Gaelic, and Cornish.</p>
                        <p class="govuk-body"><strong>Task:</strong> Create a condition for users who speak Welsh.</p>
                        <div class="govuk-form-group">
                            <fieldset class="govuk-fieldset">
                                <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">What would you select?
                                </legend>
                                <div class="govuk-radios govuk-radios--small">
                                    <div class="govuk-radios__item">
                                        <input class="govuk-radios__input" id="practice-4-a" name="practice-4"
                                            type="radio" value="a">
                                        <label class="govuk-label govuk-radios__label" for="practice-4-a">
                                            Question: "What languages do you speak?" | Operator: "is" | Value: "Welsh"
                                        </label>
                                    </div>
                                    <div class="govuk-radios__item">
                                        <input class="govuk-radios__input" id="practice-4-b" name="practice-4"
                                            type="radio" value="b">
                                        <label class="govuk-label govuk-radios__label" for="practice-4-b">
                                            Question: "What languages do you speak?" | Operator: "is not" | Value:
                                            "English"
                                        </label>
                                    </div>
                                    <div class="govuk-radios__item">
                                        <input class="govuk-radios__input" id="practice-4-c" name="practice-4"
                                            type="radio" value="c">
                                        <label class="govuk-label govuk-radios__label" for="practice-4-c">
                                            Question: "Do you speak Welsh?" | Operator: "is" | Value: "Yes"
                                        </label>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <button class="govuk-button govuk-button--secondary"
                            onclick="checkPracticeAnswer('practice-4', 'a', 'Correct! For checkbox questions, you select the specific value you want to check for.', 'For checkbox questions, select the specific value you want to check for. In this case, select Welsh.'); return false;">
                            Check answer
                        </button>
                        <div id="practice-4-feedback" style="display: none; margin-top: 10px;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Check answers section -->
        <div id="check-answers-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">How do you organize the check answers page?</h1>

            <p class="govuk-body">The check answers page shows users a summary of all their answers before they
                submit the form. You can organize this page to make it easier for users to review their
                information.</p>

            <div class="govuk-tabs" data-module="govuk-tabs">
                <h2 class="govuk-tabs__title">Contents</h2>
                <ul class="govuk-tabs__list">
                    <li class="govuk-tabs__list-item govuk-tabs__list-item--selected">
                        <a class="govuk-tabs__tab" href="#good-check-answers">Good organization</a>
                    </li>
                    <li class="govuk-tabs__list-item">
                        <a class="govuk-tabs__tab" href="#bad-check-answers">Poor organization</a>
                    </li>
                </ul>

                <div class="govuk-tabs__panel" id="good-check-answers">
                    <h3 class="govuk-heading-m">Good check answers organization</h3>
                    <p class="govuk-body">This check answers page is well organized:</p>

                    <div class="govuk-summary-list">
                        <h2 class="govuk-heading-m">Business details</h2>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Business registered with RPA</dt>
                            <dd class="govuk-summary-list__value">Yes</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Business name</dt>
                            <dd class="govuk-summary-list__value">Doe Farms Ltd</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                    </div>

                    <div class="govuk-summary-list">
                        <h2 class="govuk-heading-m">Contact information</h2>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Email address</dt>
                            <dd class="govuk-summary-list__value">john.doe@example.com</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Phone number</dt>
                            <dd class="govuk-summary-list__value">07700 900457</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                    </div>

                    <div class="govuk-inset-text">
                        <p class="govuk-body"><strong>Why this is well organized:</strong></p>
                        <ul class="govuk-list govuk-list--bullet">
                            <li>Related information is grouped into sections</li>
                            <li>Clear section headings help users navigate</li>
                            <li>Each answer has a "Change" link for easy editing</li>
                            <li>Information flows logically from business to contact details</li>
                        </ul>
                    </div>
                </div>

                <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="bad-check-answers">
                    <h3 class="govuk-heading-m">Poor check answers organization</h3>
                    <p class="govuk-body">This check answers page is poorly organized:</p>

                    <div class="govuk-summary-list">
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Business registered with RPA</dt>
                            <dd class="govuk-summary-list__value">Yes</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Email address</dt>
                            <dd class="govuk-summary-list__value">john.doe@example.com</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Business name</dt>
                            <dd class="govuk-summary-list__value">Doe Farms Ltd</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Phone number</dt>
                            <dd class="govuk-summary-list__value">07700 900457</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Farm address</dt>
                            <dd class="govuk-summary-list__value">123 Farm Lane, Rural Village, CV1 2AB</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">VAT registration number</dt>
                            <dd class="govuk-summary-list__value">GB123456789</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Business type</dt>
                            <dd class="govuk-summary-list__value">Limited company</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Company registration number</dt>
                            <dd class="govuk-summary-list__value">12345678</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Primary contact name</dt>
                            <dd class="govuk-summary-list__value">John Doe</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Contact job title</dt>
                            <dd class="govuk-summary-list__value">Farm Manager</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Alternative phone number</dt>
                            <dd class="govuk-summary-list__value">07700 900458</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Preferred contact method</dt>
                            <dd class="govuk-summary-list__value">Email</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Farm size (hectares)</dt>
                            <dd class="govuk-summary-list__value">150</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Main crop type</dt>
                            <dd class="govuk-summary-list__value">Wheat</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Livestock numbers</dt>
                            <dd class="govuk-summary-list__value">200 cattle, 500 sheep</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Environmental scheme participation</dt>
                            <dd class="govuk-summary-list__value">Countryside Stewardship</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Bank account details</dt>
                            <dd class="govuk-summary-list__value">Account: 12345678, Sort: 12-34-56</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Emergency contact name</dt>
                            <dd class="govuk-summary-list__value">Jane Doe</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Emergency contact phone</dt>
                            <dd class="govuk-summary-list__value">07700 900459</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                    </div>

                    <p class="govuk-body">
                        <span style="display: inline-flex; align-items: center; gap: 8px;">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                                style="background: #d4351c; border-radius: 50%; padding: 2px;">
                                <path d="M6 6L14 14M14 6L6 14" stroke="white" stroke-width="2" stroke-linecap="round" />
                            </svg>
                            <strong>Why this is poorly organized:</strong>
                        </span>
                    </p>
                    <ul class="govuk-list govuk-list--bullet">
                        <li>Overwhelming amount of information without organization</li>
                        <li>No sections to group related information (business, contact, farm details)</li>
                        <li>Users have to scroll through 18 items to find what they need</li>
                        <li>Mixed business, personal, and technical information together</li>
                        <li>No logical flow or hierarchy of information</li>
                    </ul>
                </div>
            </div>


        </div>

        <!-- Declarations section -->
        <div id="declarations-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">When should you add a declaration?</h1>

            <p class="govuk-body">A declaration allows users to confirm they understand or agree to something
                before submitting the form. Declarations are added to the bottom of check answers pages using
                markdown formatting for easy editing. Users must confirm the declaration before submitting, and they
                should be clear and specific about what users are agreeing to.
            </p>

            <div class="govuk-tabs" data-module="govuk-tabs">
                <h2 class="govuk-tabs__title">Contents</h2>
                <ul class="govuk-tabs__list">
                    <li class="govuk-tabs__list-item govuk-tabs__list-item--selected">
                        <a class="govuk-tabs__tab" href="#good-declaration">Good declaration</a>
                    </li>
                    <li class="govuk-tabs__list-item">
                        <a class="govuk-tabs__tab" href="#bad-declaration">Poor declaration</a>
                    </li>
                </ul>

                <div class="govuk-tabs__panel" id="good-declaration">
                    <h3 class="govuk-heading-m">Good declaration example</h3>
                    <p class="govuk-body">This declaration is clear and appropriate:</p>

                    <div style="border: 1px solid #0b0c0c; padding: 20px; margin: 20px 0; background-color: #f8f9fa;">
                        <h4 class="govuk-heading-s">Declaration</h4>
                        <p class="govuk-body">I confirm that:</p>
                        <ul class="govuk-list govuk-list--bullet">
                            <li>all the information I have provided is accurate and complete</li>
                            <li>I understand that providing false information may result in legal action</li>
                            <li>I agree to the terms and conditions of this application</li>
                        </ul>
                    </div>

                    <div class="govuk-inset-text">
                        <p class="govuk-body"><strong>Why this is a good declaration:</strong></p>
                        <ul class="govuk-list govuk-list--bullet">
                            <li>Clear and specific about what the user is confirming</li>
                            <li>Uses plain English that users can understand</li>
                            <li>Explains the consequences of false information</li>
                            <li>Only asks for necessary confirmations</li>
                        </ul>
                    </div>
                </div>

                <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="bad-declaration">
                    <h3 class="govuk-heading-m">Poor declaration example</h3>
                    <p class="govuk-body">This declaration is unclear and inappropriate:</p>

                    <div style="border: 1px solid #0b0c0c; padding: 20px; margin: 20px 0; background-color: #f8f9fa;">
                        <h4 class="govuk-heading-s">Declaration</h4>
                        <p class="govuk-body">I hereby declare and affirm under penalty of perjury that all
                            statements contained herein are true and correct to the best of my knowledge,
                            information, and belief, and that I have read, understood, and agree to be bound
                            by all terms, conditions, provisions, stipulations, and requirements set forth
                            in the aforementioned application and any and all related documentation,
                            policies, procedures, regulations, and guidelines.</p>
                    </div>

                    <div class="govuk-inset-text">
                        <p class="govuk-body"><strong>Why this is a poor declaration:</strong></p>
                        <ul class="govuk-list govuk-list--bullet">
                            <li>Uses legal jargon that's hard to understand</li>
                            <li>Very long and wordy</li>
                            <li>Doesn't clearly state what the user is agreeing to</li>
                            <li>May intimidate or confuse users</li>
                        </ul>
                    </div>
                </div>
            </div>


        </div>

        <!-- Short descriptions section -->
        <div id="short-descriptions-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">How do you write good short descriptions?</h1>

            <p class="govuk-body">Short descriptions are used in error messages and as the main labels on the
                check answers page. The form builder automatically creates error messages using your short description,
                so you just need to focus on writing clear, specific descriptions.</p>

            <p class="govuk-body">Learn more about <a
                    href="https://design-system.service.gov.uk/components/error-message/" class="govuk-link">error
                    messages</a> and <a href="https://design-system.service.gov.uk/components/summary-list/"
                    class="govuk-link">summary lists</a> in the GOV.UK Design System.</p>

            <div class="govuk-tabs" data-module="govuk-tabs">
                <h2 class="govuk-tabs__title">Contents</h2>
                <ul class="govuk-tabs__list">
                    <li class="govuk-tabs__list-item govuk-tabs__list-item--selected">
                        <a class="govuk-tabs__tab" href="#good-short-description">Good descriptions</a>
                    </li>
                    <li class="govuk-tabs__list-item">
                        <a class="govuk-tabs__tab" href="#bad-short-description">Poor descriptions</a>
                    </li>
                </ul>

                <div class="govuk-tabs__panel" id="good-short-description">
                    <h3 class="govuk-heading-m">Good short descriptions</h3>
                    <p class="govuk-body">These short descriptions are clear and helpful:</p>

                    <div class="govuk-form-group">
                        <label class="govuk-label" for="good-short-desc">Short description</label>
                        <div class="govuk-hint">Enter a short description for this question like 'Email
                            address'.
                            Short descriptions are used in error messages and on the check your answers page.
                        </div>
                        <input class="govuk-input" id="good-short-desc" name="good-short-desc" type="text"
                            value="Email address">
                    </div>

                    <h4 class="govuk-heading-s">Error message (shown when user doesn't enter an answer):</h4>
                    <div class="govuk-error-summary" data-module="govuk-error-summary">
                        <h2 class="govuk-error-summary__title">There is a problem</h2>
                        <div class="govuk-error-summary__body">
                            <ul class="govuk-list govuk-error-summary__list">
                                <li>
                                    <a href="#email-field">Enter email address</a>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <h4 class="govuk-heading-s">Check your answers page:</h4>
                    <div class="govuk-summary-list">
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">Email address</dt>
                            <dd class="govuk-summary-list__value">example@example.com</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change</a>
                            </dd>
                        </div>
                    </div>

                    <div class="govuk-inset-text">
                        <p class="govuk-body"><strong>Why these are good:</strong></p>
                        <ul class="govuk-list govuk-list--bullet">
                            <li><strong>Clear and specific</strong> - "Email address" tells users exactly what's needed
                            </li>
                            <li><strong>Plain English</strong> - uses everyday language users understand</li>
                            <li><strong>Consistent</strong> - works in both error messages and check answers</li>
                            <li><strong>Automatic</strong> - the form builder creates error messages like "Enter email
                                address"</li>
                        </ul>
                    </div>
                </div>

                <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="bad-short-description">
                    <h3 class="govuk-heading-m">Poor short descriptions</h3>
                    <p class="govuk-body">These short descriptions are unclear and unhelpful:</p>

                    <div class="govuk-form-group">
                        <label class="govuk-label" for="bad-short-desc">Short description</label>
                        <div class="govuk-hint">Enter a short description for this question like 'Email
                            address'.
                            Short descriptions are used in error messages and on the check your answers page.
                        </div>
                        <input class="govuk-input" id="bad-short-desc" name="bad-short-desc" type="text" value="it">
                    </div>

                    <h4 class="govuk-heading-s">Error message (shown when user doesn't enter an answer):</h4>
                    <div class="govuk-error-summary" data-module="govuk-error-summary">
                        <h2 class="govuk-error-summary__title">There is a problem</h2>
                        <div class="govuk-error-summary__body">
                            <ul class="govuk-list govuk-error-summary__list">
                                <li>
                                    <a href="#email-field">Enter it</a>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <h4 class="govuk-heading-s">Check your answers page:</h4>
                    <div class="govuk-summary-list">
                        <div class="govuk-summary-list__row">
                            <dt class="govuk-summary-list__key">it</dt>
                            <dd class="govuk-summary-list__value">example@example.com</dd>
                            <dd class="govuk-summary-list__actions">
                                <a class="govuk-link" href="#">Change it</a>
                            </dd>
                        </div>
                    </div>

                    <div class="govuk-inset-text">
                        <p class="govuk-body"><strong>Why these are poor:</strong></p>
                        <ul class="govuk-list govuk-list--bullet">
                            <li><strong>Vague</strong> - "it" doesn't tell users what's missing</li>
                            <li><strong>Confusing</strong> - "Enter it" doesn't help users fix the problem</li>
                            <li><strong>Not specific</strong> - doesn't match GOV.UK error message guidance</li>
                            <li><strong>Poor user experience</strong> - users can't understand what went wrong</li>
                        </ul>
                    </div>
                </div>
            </div>




        </div>

        <!-- Short description practice section -->
        <div id="short-description-practice-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">Practice creating short descriptions</h1>

            <p class="govuk-body">Now let's practice creating short descriptions. The form builder automatically creates
                error messages using your description, so focus on writing clear, specific descriptions that help users
                understand what they need to provide.</p>

            <p class="govuk-body">Learn more about <a
                    href="https://design-system.service.gov.uk/components/error-message/" class="govuk-link">error
                    messages</a> and <a href="https://design-system.service.gov.uk/components/summary-list/"
                    class="govuk-link">summary lists</a> in the GOV.UK Design System.</p>

            <div class="govuk-inset-text">
                <p class="govuk-body"><strong>What to avoid in short descriptions:</strong></p>
                <ul class="govuk-list govuk-list--bullet">
                    <li><strong>Vague terms</strong> - "it", "this", "details", "information"</li>
                    <li><strong>Technical jargon</strong> - "form field", "input", "data entry"</li>
                    <li><strong>Unclear language</strong> - "contact stuff", "personal info"</li>
                    <li><strong>Too generic</strong> - "details" instead of "email address"</li>
                </ul>
            </div>

            <div class="govuk-inset-text"
                style=" border-left: 4px solid #00703c; background-color: #f7f7f72e; outline: 1px solid #00703c;">
                <h3 class="govuk-heading-s" style="margin-top: 0;">Practice Questions</h3>

                <!-- Question 1: Text Length Validation -->
                <div class="practice-question" id="practice-question-1">
                    <h4 class="govuk-heading-s">1: Text input field with character limits</h4>
                    <div class="govuk-form-group">
                        <label class="govuk-label" for="practice-question-1-text">Question</label>
                        <p class="govuk-body">What is your full name?</p>
                    </div>

                    <div class="govuk-form-group">
                        <label class="govuk-label" for="practice-short-desc-1">Short description</label>
                        <div class="govuk-hint">Enter a short description for this question like 'Licence period'. Short
                            descriptions are used in error messages and on the check your answers page.</div>
                        <input class="govuk-input" id="practice-short-desc-1" name="practice-short-desc-1" type="text">
                    </div>

                    {{ govukButton({
                    text: "Test short description",
                    href: "#",
                    classes: "govuk-button",
                    attributes: {
                    onclick: "testShortDescription(1); return false;"
                    }
                    }) }}
                </div>

                <!-- Question 2: Number Validation -->
                <div class="practice-question" id="practice-question-2" style="display: none;">
                    <h4 class="govuk-heading-s">2: Number input field with validation</h4>
                    <div class="govuk-form-group">
                        <label class="govuk-label" for="practice-question-2-text">Question</label>
                        <p class="govuk-body">How many employees work at your business?</p>
                    </div>

                    <div class="govuk-form-group">
                        <label class="govuk-label" for="practice-short-desc-2">Short description</label>
                        <div class="govuk-hint">Enter a short description for this question like 'Licence period'. Short
                            descriptions are used in error messages and on the check your answers page.</div>
                        <input class="govuk-input" id="practice-short-desc-2" name="practice-short-desc-2" type="text">
                    </div>

                    {{ govukButton({
                    text: "Test short description",
                    href: "#",
                    classes: "govuk-button",
                    attributes: {
                    onclick: "testShortDescription(2); return false;"
                    }
                    }) }}
                </div>

                <!-- Question 3: Date Validation -->
                <div class="practice-question" id="practice-question-3" style="display: none;">
                    <h4 class="govuk-heading-s">3: Date input field with validation</h4>
                    <div class="govuk-form-group">
                        <label class="govuk-label" for="practice-question-3-text">Question</label>
                        <p class="govuk-body">When did you start your business?</p>
                    </div>

                    <div class="govuk-form-group">
                        <label class="govuk-label" for="practice-short-desc-3">Short description</label>
                        <div class="govuk-hint">Enter a short description for this question like 'Licence period'. Short
                            descriptions are used in error messages and on the check your answers page.</div>
                        <input class="govuk-input" id="practice-short-desc-3" name="practice-short-desc-3" type="text">
                    </div>

                    {{ govukButton({
                    text: "Test short description",
                    href: "#",
                    classes: "govuk-button",
                    attributes: {
                    onclick: "testShortDescription(3); return false;"
                    }
                    }) }}
                </div>

                <!-- Question 4: File Upload -->
                <div class="practice-question" id="practice-question-4" style="display: none;">
                    <h4 class="govuk-heading-s">4: File upload field with format restrictions</h4>
                    <div class="govuk-form-group">
                        <label class="govuk-label" for="practice-question-4-text">Question</label>
                        <p class="govuk-body">Upload your business plan</p>
                    </div>

                    <div class="govuk-form-group">
                        <label class="govuk-label" for="practice-short-desc-4">Short description</label>
                        <div class="govuk-hint">Enter a short description for this question like 'Licence period'. Short
                            descriptions are used in error messages and on the check your answers page.</div>
                        <input class="govuk-input" id="practice-short-desc-4" name="practice-short-desc-4" type="text">
                    </div>

                    {{ govukButton({
                    text: "Test short description",
                    href: "#",
                    classes: "govuk-button",
                    attributes: {
                    onclick: "testShortDescription(4); return false;"
                    }
                    }) }}
                </div>

                <!-- Question 5: Selection/Radio -->
                <div class="practice-question" id="practice-question-5" style="display: none;">
                    <h4 class="govuk-heading-s">5: Yes/no selection field</h4>
                    <div class="govuk-form-group">
                        <label class="govuk-label" for="practice-question-5-text">Question</label>
                        <p class="govuk-body">Are you registered for VAT?</p>
                    </div>

                    <div class="govuk-form-group">
                        <label class="govuk-label" for="practice-short-desc-5">Short description</label>
                        <div class="govuk-hint">Enter a short description for this question like 'Licence period'. Short
                            descriptions are used in error messages and on the check your answers page.</div>
                        <input class="govuk-input" id="practice-short-desc-5" name="practice-short-desc-5" type="text">
                    </div>

                    {{ govukButton({
                    text: "Test short description",
                    href: "#",
                    classes: "govuk-button",
                    attributes: {
                    onclick: "testShortDescription(5); return false;"
                    }
                    }) }}
                </div>

                <!-- Question 6: Address -->
                <div class="practice-question" id="practice-question-6" style="display: none;">
                    <h4 class="govuk-heading-s">6: Address input field with multiple components</h4>
                    <div class="govuk-form-group">
                        <label class="govuk-label" for="practice-question-6-text">Question</label>
                        <p class="govuk-body">What is your business address?</p>
                    </div>

                    <div class="govuk-form-group">
                        <label class="govuk-label" for="practice-short-desc-6">Short description</label>
                        <div class="govuk-hint">Enter a short description for this question like 'Licence period'. Short
                            descriptions are used in error messages and on the check your answers page.</div>
                        <input class="govuk-input" id="practice-short-desc-6" name="practice-short-desc-6" type="text">
                    </div>

                    {{ govukButton({
                    text: "Test short description",
                    href: "#",
                    classes: "govuk-button",
                    attributes: {
                    onclick: "testShortDescription(6); return false;"
                    }
                    }) }}
                </div>

                <!-- Question 7: Format Validation -->
                <div class="practice-question" id="practice-question-7" style="display: none;">
                    <h4 class="govuk-heading-s">7: Format-specific input field with pattern validation</h4>
                    <div class="govuk-form-group">
                        <label class="govuk-label" for="practice-question-7-text">Question</label>
                        <p class="govuk-body">What is your National Insurance number?</p>
                    </div>

                    <div class="govuk-form-group">
                        <label class="govuk-label" for="practice-short-desc-7">Short description</label>
                        <div class="govuk-hint">Enter a short description for this question like 'Licence period'. Short
                            descriptions are used in error messages and on the check your answers page.</div>
                        <input class="govuk-input" id="practice-short-desc-7" name="practice-short-desc-7" type="text">
                    </div>

                    {{ govukButton({
                    text: "Test short description",
                    href: "#",
                    classes: "govuk-button",
                    attributes: {
                    onclick: "testShortDescription(7); return false;"
                    }
                    }) }}
                </div>
                <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

                <!-- Navigation buttons -->
                <div class="govuk-button-group" style="margin-top: 20px;">
                    <button class="govuk-button govuk-button--secondary" id="prev-question-btn"
                        onclick="prevPracticeQuestion(); return false;" style="display: none;">
                         Previous question
                    </button>
                    <button class="govuk-button govuk-button--secondary" id="next-question-btn"
                        onclick="nextPracticeQuestion(); return false;">
                        Next question 
                    </button>
                </div>
            </div>

            <!-- Results section (hidden by default) -->
            <div id="practice-results" style="display: none;">
                <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

                <!-- Results section with improved layout -->
                <div class="govuk-grid-row" style="margin-top: 30px;">
                    <!-- Feedback section -->
                    <div class="govuk-grid-column-full">
                        <div id="feedback-section">
                            <h2 class="govuk-heading-m">Feedback on your short description:</h2>
                            <div id="feedback-content"></div>
                        </div>
                    </div>
                </div>

                <!-- Preview sections in a grid layout -->
                <div class="govuk-grid-row">
                    <!-- Error message preview -->
                    <div class="govuk-grid-column-one-half">
                        <div class="govuk-summary-card">
                            <div class="govuk-summary-card__title-wrapper">
                                <h3 class="govuk-summary-card__title">Error message preview</h3>
                            </div>
                            <div class="govuk-summary-card__content">
                                <div class="govuk-error-summary" data-module="govuk-error-summary">
                                    <h2 class="govuk-error-summary__title">There is a problem</h2>
                                    <div class="govuk-error-summary__body">
                                        <ul class="govuk-list govuk-error-summary__list">
                                            <li>
                                                <a href="#practice-input" id="error-message-link">Enter <span
                                                        id="error-preview">phone
                                                        number</span></a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Check answers preview -->
                    <div class="govuk-grid-column-one-half">
                        <div class="govuk-summary-card">
                            <div class="govuk-summary-card__title-wrapper">
                                <h3 class="govuk-summary-card__title">Check answers preview</h3>
                            </div>
                            <div class="govuk-summary-card__content">
                                <div class="govuk-summary-list">
                                    <div class="govuk-summary-list__row">
                                        <dt class="govuk-summary-list__key"><span id="check-answers-key">Phone
                                                number</span></dt>
                                        <dd class="govuk-summary-list__value">Not provided</dd>
                                        <dd class="govuk-summary-list__actions">
                                            <a class="govuk-link" href="#">Change</a>
                                        </dd>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Writing tips in a separate section -->
                {# <div class="govuk-grid-row" style="margin-top: 30px;">
                    <div class="govuk-grid-column-full">
                        <div class="govuk-summary-card">
                            <div class="govuk-summary-card__title-wrapper">
                                <h3 class="govuk-summary-card__title">Writing good short descriptions</h3>
                            </div>
                            <div class="govuk-summary-card__content">
                                <ul class="govuk-list govuk-list--bullet">
                                    <li><strong>Be specific</strong> - "Phone number" not "contact details"</li>
                                    <li><strong>Use plain English</strong> - language users understand</li>
                                    <li><strong>Be clear and concise</strong> - get to the point</li>
                                    <li><strong>Think about error messages</strong> - "Enter phone number" should make
                                        sense</li>
                                    <li><strong>Avoid vague terms</strong> - no "it", "this", or "details"</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div> #}


            </div>
        </div>

        <!-- Good vs bad design section -->
        <div id="design-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">What makes a good question page?</h1>

            <p class="govuk-body">Let's look at some examples of good and bad form design choices to understand
                what
                works best for users.</p>

            <p class="govuk-body">Learn more about <a
                    href="https://design-system.service.gov.uk/patterns/question-pages/" class="govuk-link">question
                    pages</a> and <a href="https://design-system.service.gov.uk/components/tabs/"
                    class="govuk-link">tabs</a> for
                organizing content.</p>

            <div class="govuk-tabs" data-module="govuk-tabs">
                <h2 class="govuk-tabs__title">Contents</h2>
                <ul class="govuk-tabs__list">
                    <li class="govuk-tabs__list-item govuk-tabs__list-item--selected">
                        <a class="govuk-tabs__tab" href="#good-example">Good example</a>
                    </li>
                    <li class="govuk-tabs__list-item">
                        <a class="govuk-tabs__tab" href="#bad-example">Bad example</a>
                    </li>
                </ul>

                <div class="govuk-tabs__panel" id="good-example">
                    <h3 class="govuk-heading-m">Good example</h3>
                    <p class="govuk-body">This question is clear, specific, and follows GOV.UK design
                        principles:
                    </p>

                    <div class="govuk-form-group">
                        <label class="govuk-label" for="good-question">What is your full name as it appears on
                            your
                            passport?</label>
                        <div class="govuk-hint">Enter your name exactly as it appears on your passport,
                            including
                            any middle names.</div>
                        <input class="govuk-input" id="good-question" name="good-question" type="text">
                    </div>

                    <p class="govuk-body">
                        <span style="display: inline-flex; align-items: center; gap: 8px;">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                                style="background: #00703c; border-radius: 50%; padding: 2px;">
                                <path d="M8 15L3 10L4.41 8.59L8 12.17L15.59 4.58L17 6L8 15Z" fill="white" />
                            </svg>
                            <strong>Why this is good:</strong>
                        </span>
                    </p>
                    <ul class="govuk-list govuk-list--bullet">
                        <li>Clear, specific question</li>
                        <li>Helpful hint text</li>
                        <li>Appropriate input type</li>
                        <li>Follows GOV.UK style</li>
                    </ul>
                </div>

                <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="bad-example">
                    <h3 class="govuk-heading-m">Bad example</h3>
                    <p class="govuk-body">This question is unclear and doesn't follow good design principles:
                    </p>

                    <div class="govuk-form-group">
                        <label class="govuk-label" for="bad-question">Name</label>
                        <input class="govuk-input" id="bad-question" name="bad-question" type="text">
                    </div>

                    <p class="govuk-body">
                        <span style="display: inline-flex; align-items: center; gap: 8px;">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                                style="background: #d4351c; border-radius: 50%; padding: 2px;">
                                <path d="M6 6L14 14M14 6L6 14" stroke="white" stroke-width="2" stroke-linecap="round" />
                            </svg>
                            <strong>Why this is bad:</strong>
                        </span>
                    </p>
                    <ul class="govuk-list govuk-list--bullet">
                        <li>Vague question - what name?</li>
                        <li>No guidance or context</li>
                        <li>Could lead to errors</li>
                        <li>Poor user experience</li>
                    </ul>
                </div>
            </div>


        </div>

        <!-- Writing questions section -->
        <div id="writing-questions-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">How do you write clear questions?</h1>

            <p class="govuk-body">Good questions are clear, specific, and help users provide the right
                information.
                They should be easy to understand and answer.</p>

            <p class="govuk-body">Learn more about <a
                    href="https://design-system.service.gov.uk/styles/typography/#headings"
                    class="govuk-link">headings</a> and <a
                    href="https://design-system.service.gov.uk/components/fieldset/" class="govuk-link">fieldsets</a>
                for organizing form content.</p>

            <p class="govuk-body">Follow the <a href="https://www.gov.uk/guidance/style-guide/a-to-z"
                    class="govuk-link">GOV.UK Style Guide</a> for consistent, plain English writing.</p>

            <div class="govuk-grid-row">
                <div class="govuk-grid-column-one-half">
                    <h3 class="govuk-heading-m">Do this:</h3>
                    <ul class="govuk-list govuk-list--bullet">
                        <li>Be specific about what you need</li>
                        <li>Use plain English</li>
                        <li>Provide helpful hints</li>
                        <li>Ask one thing at a time</li>
                    </ul>
                </div>
                <div class="govuk-grid-column-one-half">
                    <h3 class="govuk-heading-m">Don't do this:</h3>
                    <ul class="govuk-list govuk-list--bullet">
                        <li>Use jargon or technical terms</li>
                        <li>Ask multiple things in one question</li>
                        <li>Leave users guessing</li>
                        <li>Use vague language</li>
                    </ul>
                </div>
            </div>

            <div class="govuk-inset-text"
                style=" border-left: 4px solid #00703c; background-color: #f7f7f72e; outline: 1px solid #00703c;">
                <h3 class="govuk-heading-s" style="margin-top: 0;">Practice Exercises</h3>

                <!-- Exercise 1: Fix unclear business question -->
                <div class="writing-practice-question" id="writing-practice-question-1">
                    <h4 class="govuk-heading-s">1: Fix an unclear business question</h4>
                    <div class="govuk-form-group">
                        <label class="govuk-label" for="writing-practice-question-1-text">Original question</label>
                        <p class="govuk-body">"Business information"</p>
                    </div>

                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">Which is the best improved
                                version?</legend>
                            <div class="govuk-radios" data-module="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="writing-answer-1-a" name="writing-answer-1"
                                        type="radio" value="a">
                                    <label class="govuk-label govuk-radios__label" for="writing-answer-1-a">"What is
                                        your business name?"</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="writing-answer-1-b" name="writing-answer-1"
                                        type="radio" value="b">
                                    <label class="govuk-label govuk-radios__label" for="writing-answer-1-b">"Business
                                        information"</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="writing-answer-1-c" name="writing-answer-1"
                                        type="radio" value="c">
                                    <label class="govuk-label govuk-radios__label" for="writing-answer-1-c">"Tell us
                                        about your business"</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    {{ govukButton({
                    text: "Check my answer",
                    href: "#",
                    classes: "govuk-button",
                    attributes: {
                    onclick: "checkPracticeAnswer('writing-answer-1', 'a', 'Correct!', 'Try again.'); return false;"
                    }
                    }) }}
                    <div id="writing-answer-1-feedback" style="display: none; margin-top: 10px;"></div>
                </div>

                <!-- Exercise 2: Fix confusing address question -->
                <div class="writing-practice-question" id="writing-practice-question-2" style="display: none;">
                    <h4 class="govuk-heading-s">2: Fix a confusing address question</h4>
                    <div class="govuk-form-group">
                        <label class="govuk-label" for="writing-practice-question-2-text">Original question</label>
                        <p class="govuk-body">"What is your current residential address and how long have you lived
                            there?"</p>
                    </div>

                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">Which is the best approach?
                            </legend>
                            <div class="govuk-radios" data-module="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="writing-answer-2-a" name="writing-answer-2"
                                        type="radio" value="a">
                                    <label class="govuk-label govuk-radios__label" for="writing-answer-2-a">Keep it as
                                        one question - it saves space</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="writing-answer-2-b" name="writing-answer-2"
                                        type="radio" value="b">
                                    <label class="govuk-label govuk-radios__label" for="writing-answer-2-b">Split into:
                                        "What is your current address?" and "How long have you lived there?"</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="writing-answer-2-c" name="writing-answer-2"
                                        type="radio" value="c">
                                    <label class="govuk-label govuk-radios__label" for="writing-answer-2-c">Ask for
                                        address only, skip the time question</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    {{ govukButton({
                    text: "Check my answer",
                    href: "#",
                    classes: "govuk-button",
                    attributes: {
                    onclick: "checkPracticeAnswer('writing-answer-2', 'b', 'Correct!', 'Try again.'); return false;"
                    }
                    }) }}
                    <div id="writing-answer-2-feedback" style="display: none; margin-top: 10px;"></div>
                </div>

                <!-- Exercise 3: Add helpful guidance -->
                <div class="writing-practice-question" id="writing-practice-question-3" style="display: none;">
                    <h4 class="govuk-heading-s">3: Add helpful guidance</h4>
                    <div class="govuk-form-group">
                        <label class="govuk-label" for="writing-practice-question-3-text">Original question</label>
                        <p class="govuk-body">"What is your National Insurance number?"</p>
                    </div>

                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">Which version is most
                                helpful?</legend>
                            <div class="govuk-radios" data-module="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="writing-answer-3-a" name="writing-answer-3"
                                        type="radio" value="a">
                                    <label class="govuk-label govuk-radios__label" for="writing-answer-3-a">"What is
                                        your National Insurance number?"</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="writing-answer-3-b" name="writing-answer-3"
                                        type="radio" value="b">
                                    <label class="govuk-label govuk-radios__label" for="writing-answer-3-b">"What is
                                        your National Insurance number? You can find this on your payslip, P60, or
                                        National Insurance card."</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="writing-answer-3-c" name="writing-answer-3"
                                        type="radio" value="c">
                                    <label class="govuk-label govuk-radios__label" for="writing-answer-3-c">"What is
                                        your National Insurance number? (Required)"</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    {{ govukButton({
                    text: "Check my answer",
                    href: "#",
                    classes: "govuk-button",
                    attributes: {
                    onclick: "checkPracticeAnswer('writing-answer-3', 'b', 'Correct!', 'Try again.'); return false;"
                    }
                    }) }}
                    <div id="writing-answer-3-feedback" style="display: none; margin-top: 10px;"></div>
                </div>

                <!-- Exercise 4: Fix unclear employment options -->
                <div class="writing-practice-question" id="writing-practice-question-4" style="display: none;">
                    <h4 class="govuk-heading-s">4: Fix unclear employment options</h4>
                    <div class="govuk-form-group">
                        <label class="govuk-label" for="writing-practice-question-4-text">Original question</label>
                        <p class="govuk-body">"What is your employment status?"</p>
                        <p class="govuk-body">Options: Employed / Self-employed / Unemployed</p>
                    </div>

                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">Which option set is best?
                            </legend>
                            <div class="govuk-radios" data-module="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="writing-answer-4-a" name="writing-answer-4"
                                        type="radio" value="a">
                                    <label class="govuk-label govuk-radios__label" for="writing-answer-4-a">Employed /
                                        Self-employed / Unemployed</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="writing-answer-4-b" name="writing-answer-4"
                                        type="radio" value="b">
                                    <label class="govuk-label govuk-radios__label" for="writing-answer-4-b">Employed /
                                        Self-employed / Unemployed / I'm not sure</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="writing-answer-4-c" name="writing-answer-4"
                                        type="radio" value="c">
                                    <label class="govuk-label govuk-radios__label" for="writing-answer-4-c">I work for
                                        an employer / I work for myself / I'm looking for work / I'm not sure</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    {{ govukButton({
                    text: "Check my answer",
                    href: "#",
                    classes: "govuk-button",
                    attributes: {
                    onclick: "checkPracticeAnswer('writing-answer-4', 'c', 'Correct!', 'Try again.'); return false;"
                    }
                    }) }}
                    <div id="writing-answer-4-feedback" style="display: none; margin-top: 10px;"></div>
                </div>

                <!-- Exercise 5: Fix confusing income question -->
                <div class="writing-practice-question" id="writing-practice-question-5" style="display: none;">
                    <h4 class="govuk-heading-s">5: Fix a confusing income question</h4>
                    <div class="govuk-form-group">
                        <label class="govuk-label" for="writing-practice-question-5-text">Original question</label>
                        <p class="govuk-body">"What is your annual income including all sources of revenue and
                            earnings?"</p>
                    </div>

                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">Which version is clearest?
                            </legend>
                            <div class="govuk-radios" data-module="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="writing-answer-5-a" name="writing-answer-5"
                                        type="radio" value="a">
                                    <label class="govuk-label govuk-radios__label" for="writing-answer-5-a">"What is
                                        your annual income including all sources of revenue and earnings?"</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="writing-answer-5-b" name="writing-answer-5"
                                        type="radio" value="b">
                                    <label class="govuk-label govuk-radios__label" for="writing-answer-5-b">"What is
                                        your yearly income?"</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="writing-answer-5-c" name="writing-answer-5"
                                        type="radio" value="c">
                                    <label class="govuk-label govuk-radios__label" for="writing-answer-5-c">"How much do
                                        you earn each year?"</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    {{ govukButton({
                    text: "Check my answer",
                    href: "#",
                    classes: "govuk-button",
                    attributes: {
                    onclick: "checkPracticeAnswer('writing-answer-5', 'c', 'Correct!', 'Try again.'); return false;"
                    }
                    }) }}
                    <div id="writing-answer-5-feedback" style="display: none; margin-top: 10px;"></div>
                </div>

                <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

                <!-- Navigation buttons -->
                <div class="govuk-button-group" style="margin-top: 20px;">
                    <button class="govuk-button govuk-button--secondary" id="prev-writing-btn"
                        onclick="prevWritingQuestion(); return false;" style="display: none;">
                         Previous exercise
                    </button>
                    <button class="govuk-button govuk-button--secondary" id="next-writing-btn"
                        onclick="nextWritingQuestion(); return false;">
                        Next exercise 
                    </button>
                </div>
            </div>

            <!-- Writing practice results section -->
            <div id="writing-practice-results" style="display: none;">
                <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

                <h3 class="govuk-heading-m">Feedback on your answer:</h3>
                <div id="writing-feedback-content"></div>

                <div class="govuk-inset-text">
                    <p class="govuk-body"><strong>GOV.UK principles for good questions:</strong></p>
                    <ul class="govuk-list govuk-list--bullet">
                        <li><strong>Closed questions are easier to answer</strong> - "Do you live at more than one
                            address?" instead of "Tell us about your living arrangements"</li>
                        <li><strong>Split complex questions</strong> - A series of simple questions is easier than one
                            complex question</li>
                        <li><strong>Add help text where needed</strong> - Explain where to find obscure information like
                            National Insurance numbers</li>
                        <li><strong>Use descriptive radio button labels</strong> - Help users understand what counts as
                            a valid answer</li>
                        <li><strong>Allow "not sure" options</strong> - Let users answer "I'm not sure" or "I don't
                            know" when valid</li>
                    </ul>
                    <p class="govuk-body">Learn more: <a
                            href="https://www.gov.uk/service-manual/design/designing-good-questions"
                            class="govuk-link">GOV.UK Service Manual - Designing good questions</a></p>
                </div>
            </div>
        </div>

        <!-- Style guide section -->
        <div id="style-guide-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">How do you write in GOV.UK style?</h1>

            <p class="govuk-body">The <a href="https://www.gov.uk/guidance/style-guide/a-to-z" class="govuk-link">GOV.UK
                    Style Guide</a> helps you write clear, consistent content that
                users can understand easily.</p>

            <div class="govuk-tabs" data-module="govuk-tabs">
                <h2 class="govuk-tabs__title">Contents</h2>
                <ul class="govuk-tabs__list">
                    <li class="govuk-tabs__list-item govuk-tabs__list-item--selected">
                        <a class="govuk-tabs__tab" href="#good-style">Good style</a>
                    </li>
                    <li class="govuk-tabs__list-item">
                        <a class="govuk-tabs__tab" href="#bad-style">Bad style</a>
                    </li>
                </ul>

                <div class="govuk-tabs__panel" id="good-style">
                    <h3 class="govuk-heading-m">Good GOV.UK style</h3>
                    <p class="govuk-body">This follows GOV.UK style guidelines:</p>

                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend">What is your full name?</legend>
                            <div class="govuk-hint">Enter your name exactly as it appears on your passport</div>
                            <input class="govuk-input" id="good-name" name="good-name" type="text">
                        </fieldset>
                    </div>

                    <div class="govuk-inset-text">
                        <p class="govuk-body"><strong>Why this follows GOV.UK style:</strong></p>
                        <ul class="govuk-list govuk-list--bullet">
                            <li>Uses plain English - "full name" not "complete name"</li>
                            <li>Clear, specific instruction in hint text</li>
                            <li>Addresses user directly as "you"</li>
                            <li>Uses active voice</li>
                            <li>No jargon or unnecessary words</li>
                        </ul>
                    </div>
                </div>

                <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="bad-style">
                    <h3 class="govuk-heading-m">Bad GOV.UK style</h3>
                    <p class="govuk-body">This doesn't follow GOV.UK style guidelines:</p>

                    <div class="govuk-form-group">
                        <label class="govuk-label" for="bad-name">Please provide your complete name as it
                            appears on your official documentation</label>
                        <input class="govuk-input" id="bad-name" name="bad-name" type="text">
                    </div>

                    <div class="govuk-inset-text">
                        <p class="govuk-body"><strong>Why this doesn't follow GOV.UK style:</strong></p>
                        <ul class="govuk-list govuk-list--bullet">
                            <li>Uses formal language - "Please provide" instead of direct question</li>
                            <li>Unnecessary words - "complete" instead of "full"</li>
                            <li>Jargon - "official documentation" instead of "passport"</li>
                            <li>Passive voice and wordy</li>
                            <li>Not user-focused</li>
                        </ul>
                    </div>
                </div>
            </div>


        </div>

        <!-- Question types section -->
        <div id="question-types-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">How do you choose the right question type?</h1>

            <p class="govuk-body">Choosing the right question type helps users provide the information you need
                quickly and accurately.</p>



            <div class="govuk-tabs" data-module="govuk-tabs">
                <h2 class="govuk-tabs__title">Contents</h2>
                <ul class="govuk-tabs__list">
                    <li class="govuk-tabs__list-item govuk-tabs__list-item--selected">
                        <a class="govuk-tabs__tab" href="#appropriate-type">Appropriate type</a>
                    </li>
                    <li class="govuk-tabs__list-item">
                        <a class="govuk-tabs__tab" href="#inappropriate-type">Inappropriate type</a>
                    </li>
                </ul>

                <div class="govuk-tabs__panel" id="appropriate-type">
                    <h3 class="govuk-heading-m">Appropriate question type</h3>
                    <p class="govuk-body">This uses the right question type for the data needed:</p>

                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend">What is your preferred contact method?
                            </legend>
                            <div class="govuk-hint">We'll use this to send you updates about your application
                            </div>
                            <div class="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="contact-email" name="contact-method"
                                        type="radio" value="email">
                                    <label class="govuk-label govuk-radios__label" for="contact-email">Email</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="contact-phone" name="contact-method"
                                        type="radio" value="phone">
                                    <label class="govuk-label govuk-radios__label" for="contact-phone">Phone</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="contact-post" name="contact-method"
                                        type="radio" value="post">
                                    <label class="govuk-label govuk-radios__label" for="contact-post">Post</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <div class="govuk-inset-text">
                        <p class="govuk-body"><strong>Why this is appropriate:</strong></p>
                        <ul class="govuk-list govuk-list--bullet">
                            <li>Radios for single choice</li>
                            <li>Clear, mutually exclusive options</li>
                            <li>Helpful hint explains the purpose</li>
                            <li>Follows GOV.UK design patterns</li>
                        </ul>
                    </div>
                </div>

                <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="inappropriate-type">
                    <h3 class="govuk-heading-m">Inappropriate question type</h3>
                    <p class="govuk-body">This uses the wrong question type for the data needed:</p>

                    <div class="govuk-form-group">
                        <label class="govuk-label" for="wrong-contact">What is your preferred contact
                            method?</label>
                        <input class="govuk-input" id="wrong-contact" name="wrong-contact" type="text">
                    </div>

                    <div class="govuk-inset-text">
                        <p class="govuk-body"><strong>Why this is inappropriate:</strong></p>
                        <ul class="govuk-list govuk-list--bullet">
                            <li>Text input for a choice question</li>
                            <li>Users might enter inconsistent answers</li>
                            <li>Harder to process and validate</li>
                            <li>No guidance on expected format</li>
                        </ul>
                    </div>
                </div>
            </div>


        </div>

        <!-- Guidance design section -->
        <div id="guidance-design-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">How do you create effective guidance pages?</h1>

            <p class="govuk-body">Guidance pages provide information to users without requiring them to answer
                questions. They're commonly used for exit pages, eligibility checks, and providing important information
                that users need to understand before proceeding or after completing a form.</p>



            <div class="govuk-tabs" data-module="govuk-tabs">
                <h2 class="govuk-tabs__title">Contents</h2>
                <ul class="govuk-tabs__list">
                    <li class="govuk-tabs__list-item govuk-tabs__list-item--selected">
                        <a class="govuk-tabs__tab" href="#good-guidance">Good guidance</a>
                    </li>
                    <li class="govuk-tabs__list-item">
                        <a class="govuk-tabs__tab" href="#bad-guidance">Bad guidance</a>
                    </li>
                </ul>

                <div class="govuk-tabs__panel" id="good-guidance">
                    <h3 class="govuk-heading-m">Good guidance page</h3>
                    <p class="govuk-body">This guidance is clear and helpful:</p>

                    <div class="govuk-inset-text">
                        <h3 class="govuk-heading-s">This road is not eligible for repair</h3>
                        <p class="govuk-body">Based on your report, this road does not meet our criteria for pothole
                            repair at this time.</p>
                        <p class="govuk-body">We only repair potholes that are deeper than 40mm and wider than 300mm.
                            Your reported pothole appears to be smaller than these minimum requirements.</p>
                        <p class="govuk-body">If you think this assessment is wrong, contact us at <a href="#"
                                class="govuk-link">highways@defra.gov.uk</a></p>
                    </div>

                    <p class="govuk-body">
                        <span style="display: inline-flex; align-items: center; gap: 8px;">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                                style="background: #00703c; border-radius: 50%; padding: 2px;">
                                <path d="M8 15L3 10L4.41 8.59L8 12.17L15.59 4.58L17 6L8 15Z" fill="white" />
                            </svg>
                            <strong>Why this is good:</strong>
                        </span>
                    </p>
                    <ul class="govuk-list govuk-list--bullet">
                        <li>Clear heading explains the situation</li>
                        <li>Explains specific criteria for pothole repair</li>
                        <li>Provides technical details (40mm depth, 300mm width)</li>
                        <li>Offers contact information for questions</li>
                        <li>Uses GOV.UK design patterns</li>
                    </ul>



                    <div class="govuk-inset-text">
                        <h3 class="govuk-heading-s">About potholes</h3>
                        <p class="govuk-body">A pothole is a depression or hole in the road surface caused by wear and
                            tear, weather conditions, or poor construction.</p>
                        <p class="govuk-body">We classify potholes based on their size and depth:</p>
                        <ul class="govuk-list govuk-list--bullet">
                            <li><strong>Minor:</strong> Less than 25mm deep and 150mm wide</li>
                            <li><strong>Moderate:</strong> 25-40mm deep and 150-300mm wide</li>
                            <li><strong>Major:</strong> More than 40mm deep and wider than 300mm</li>
                        </ul>
                        <p class="govuk-body">Only major potholes are eligible for immediate repair. Minor and moderate
                            potholes are monitored and repaired during scheduled maintenance.</p>
                    </div>

                    <span style="display: inline-flex; align-items: center; gap: 8px;">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"
                            style="background: #00703c; border-radius: 50%; padding: 2px;">
                            <path d="M8 15L3 10L4.41 8.59L8 12.17L15.59 4.58L17 6L8 15Z" fill="white" />
                        </svg>
                        <strong>Why this is good:</strong>
                    </span>
                    <ul class="govuk-list govuk-list--bullet">
                        <li>Clear heading explains the topic</li>
                        <li>Provides educational information about potholes</li>
                        <li>Uses structured classification system</li>
                        <li>Explains policy clearly with technical details</li>
                        <li>Uses GOV.UK design patterns</li>
                    </ul>
                </div>

                <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="bad-guidance">
                    <h3 class="govuk-heading-m">Bad guidance page</h3>
                    <p class="govuk-body">This guidance is unclear and unhelpful:</p>

                    <div class="govuk-inset-text">
                        <h3 class="govuk-heading-s">Sorry</h3>
                        <p class="govuk-body">We can't process your pothole report right now. We're not sure what the
                            problem is, but something's wrong with your submission. Maybe try again later or call
                            someone if you have questions.</p>
                    </div>

                    <p class="govuk-body">
                        <span style="display: inline-flex; align-items: center; gap: 8px;">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                                style="background: #d4351c; border-radius: 50%; padding: 2px;">
                                <path d="M6 6L14 14M14 6L6 14" stroke="white" stroke-width="2" stroke-linecap="round" />
                            </svg>
                            <strong>Why this is bad:</strong>
                        </span>
                    </p>
                    <ul class="govuk-list govuk-list--bullet">
                        <li>Vague about why the report can't be processed</li>
                        <li>Uncertain about what to do next</li>
                        <li>Unprofessional and unclear tone</li>
                        <li>No clear guidance or contact information</li>
                        <li>Doesn't explain the technical issue properly</li>
                    </ul>
                </div>
            </div>


        </div>

        <!-- Accessibility section -->
        <div id="accessibility-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">How do you make forms accessible?</h1>

            <p class="govuk-body">Accessible forms work for everyone, including users with disabilities. GOV.UK
                Design System components are built with accessibility in mind.</p>

            <p class="govuk-body">Learn more about <a href="https://design-system.service.gov.uk/components/fieldset/"
                    class="govuk-link">fieldsets</a> and <a
                    href="https://design-system.service.gov.uk/components/error-message/" class="govuk-link">error
                    messages</a> for accessible form design.</p>

            <div class="govuk-tabs" data-module="govuk-tabs">
                <h2 class="govuk-tabs__title">Contents</h2>
                <ul class="govuk-tabs__list">
                    <li class="govuk-tabs__list-item govuk-tabs__list-item--selected">
                        <a class="govuk-tabs__tab" href="#accessible-form">Accessible form</a>
                    </li>
                    <li class="govuk-tabs__list-item">
                        <a class="govuk-tabs__tab" href="#inaccessible-form">Inaccessible form</a>
                    </li>
                </ul>

                <div class="govuk-tabs__panel" id="accessible-form">
                    <h3 class="govuk-heading-m">Accessible form</h3>
                    <p class="govuk-body">This form follows accessibility best practices:</p>

                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend">Do you have any accessibility requirements?
                            </legend>
                            <div class="govuk-hint">We'll use this information to provide appropriate support
                                during
                                your application</div>
                            <div class="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="accessibility-yes" name="accessibility"
                                        type="radio" value="yes">
                                    <label class="govuk-label govuk-radios__label" for="accessibility-yes">Yes</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="accessibility-no" name="accessibility"
                                        type="radio" value="no">
                                    <label class="govuk-label govuk-radios__label" for="accessibility-no">No</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <p class="govuk-body">
                        <span style="display: inline-flex; align-items: center; gap: 8px;">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                                style="background: #00703c; border-radius: 50%; padding: 2px;">
                                <path d="M8 15L3 10L4.41 8.59L8 12.17L15.59 4.58L17 6L8 15Z" fill="white" />
                            </svg>
                            <strong>Why this is accessible:</strong>
                        </span>
                    </p>
                    <ul class="govuk-list govuk-list--bullet">
                        <li>Proper fieldset and legend structure</li>
                        <li>Labels associated with inputs</li>
                        <li>Clear, descriptive text</li>
                        <li>Uses GOV.UK Design System components</li>
                    </ul>
                </div>

                <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="inaccessible-form">
                    <h3 class="govuk-heading-m">Inaccessible form</h3>
                    <p class="govuk-body">This form has accessibility issues:</p>

                    <div class="govuk-form-group">
                        <p>Do you have any accessibility requirements?</p>
                        <input type="radio" name="bad-accessibility" value="yes">
                        <span>Yes</span><br>
                        <input type="radio" name="bad-accessibility" value="no">
                        <span>No</span>
                    </div>

                    <p class="govuk-body">
                        <span style="display: inline-flex; align-items: center; gap: 8px;">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                                style="background: #d4351c; border-radius: 50%; padding: 2px;">
                                <path d="M6 6L14 14M14 6L6 14" stroke="white" stroke-width="2" stroke-linecap="round" />
                            </svg>
                            <strong>Why this is inaccessible:</strong>
                        </span>
                    </p>
                    <ul class="govuk-list govuk-list--bullet">
                        <li>No fieldset or legend structure</li>
                        <li>Inputs not associated with labels</li>
                        <li>Uses generic HTML instead of GOV.UK components</li>
                        <li>Poor semantic structure</li>
                    </ul>
                </div>
            </div>

            <!-- Test your knowledge: Accessibility -->
            <div class="govuk-summary-card">
                <div class="govuk-summary-card__title-wrapper">
                    <h2 class="govuk-summary-card__title">Test your knowledge</h2>
                </div>
                <div class="govuk-summary-card__content">
                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">What's the most important
                                aspect of making forms
                                accessible to all users?</legend>
                            <div class="govuk-radios" data-module="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="accessibility-test-1"
                                        name="accessibility-test" type="radio" value="labels">
                                    <label class="govuk-label govuk-radios__label" for="accessibility-test-1">Using
                                        proper labels and fieldset structure</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="accessibility-test-2"
                                        name="accessibility-test" type="radio" value="colour">
                                    <label class="govuk-label govuk-radios__label" for="accessibility-test-2">Using
                                        bright colours to make text stand out</label>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="accessibility-test-3"
                                        name="accessibility-test" type="radio" value="font">
                                    <label class="govuk-label govuk-radios__label" for="accessibility-test-3">Using
                                        fancy fonts to make text more readable</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <button class="govuk-button govuk-button--secondary"
                        onclick="checkSectionAnswer('accessibility-test', 'labels', 'Proper labels and fieldset structure are essential for screen readers and other assistive technologies.', 'Proper labels and fieldset structure are essential for screen readers and other assistive technologies.'); return false;">
                        Check answer
                    </button>

                    <div id="accessibility-feedback" style="display: none; margin-top: 20px;">
                    </div>
                </div>
            </div>
        </div>

        <!-- Interactive builder section -->
        <div id="builder-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">Ready to build your first form?</h1>

            <p class="govuk-body">Now let's practice building a simple form. You'll create a contact form with
                different question types to see how everything works together.</p>

            <div class="govuk-form-group">
                <label class="govuk-label" for="form-name">What would you like to call your form?</label>
                <input class="govuk-input" id="form-name" name="form-name" type="text" placeholder="e.g. Contact form">
            </div>

            <div class="govuk-form-group">
                <label class="govuk-label" for="question-type">What type of question would you add
                    first?</label>
                <select class="govuk-select" id="question-type" name="question-type">
                    <option value="">Choose a question type</option>
                    <option value="shorttext">Short text</option>
                    <option value="email">Email address</option>
                    <option value="phone">Phone number</option>
                    <option value="numbers">Numbers</option>
                    <option value="radios">Radios</option>
                    <option value="yesno">Yes/No question</option>
                    <option value="checkboxes">Checkboxes</option>
                    <option value="textarea">Text area</option>
                    <option value="date">Date input</option>
                    <option value="fileupload">File upload</option>
                    <option value="address">Address</option>
                </select>
            </div>

            <div class="govuk-form-group">
                <label class="govuk-label" for="question-text">What would you ask?</label>
                <input class="govuk-input" id="question-text" name="question-text" type="text"
                    placeholder="e.g. What is your full name?">
            </div>

            <button class="govuk-button" onclick="buildForm()">Build this form</button>

            <div id="form-preview" class="govuk-!-margin-top-6" style="display: none;">
                <h3 class="govuk-heading-m">Your form preview:</h3>
                <div class="govuk-panel govuk-panel--confirmation">
                    <div id="preview-content"></div>
                </div>
            </div>
        </div>

        <!-- End-of-journey knowledge check section -->
        <div id="knowledge-check-section" class="tutorial-section" style="display: none;">
            <h1 class="govuk-heading-l">Test your knowledge</h1>

            <p class="govuk-body">Now that you've explored all the content, let's test your understanding with some
                scenario-based questions. Each question focuses on one concept at a time to help you consolidate
                your
                learning.</p>

            <div class="govuk-inset-text">
                <p class="govuk-body">Take your time with each question. You'll get immediate feedback to help
                    reinforce
                    your understanding.</p>
            </div>

            <!-- Question 1: Text input types -->
            <div id="question-1" class="knowledge-question">
                <h2 class="govuk-heading-m">Question 1: Choosing the right text input</h2>

                <div class="govuk-inset-text">
                    <p class="govuk-body"><strong>Scenario:</strong> You're designing a form for a government service
                        that
                        needs to collect a
                        reference
                        number that users receive in the post.</p>
                </div>

                <div class="govuk-form-group">
                    <fieldset class="govuk-fieldset">
                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">What type of input should you
                            use?</legend>
                        <div class="govuk-radios">
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="q1-short-text" name="question-1" type="radio"
                                    value="short-text">
                                <label class="govuk-label govuk-radios__label" for="q1-short-text">Short text
                                    input</label>
                            </div>
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="q1-long-text" name="question-1" type="radio"
                                    value="long-text">
                                <label class="govuk-label govuk-radios__label" for="q1-long-text">Long text
                                    input</label>
                            </div>
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="q1-number" name="question-1" type="radio"
                                    value="number">
                                <label class="govuk-label govuk-radios__label" for="q1-number">Number input</label>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <button class="govuk-button govuk-button--secondary"
                    onclick="checkKnowledgeAnswer('question-1', 'short-text', 'Reference numbers are brief, single-line responses that work perfectly with short text inputs. They\'re easy to type and validate.', 'Reference numbers are brief, single-line responses that work perfectly with short text inputs. They\'re easy to type and validate.'); return false;">
                    Check answer
                </button>

                <div id="feedback-1" style="display: none; margin-top: 20px;"></div>
                <button id="next-question-1" class="govuk-button" onclick="nextKnowledgeQuestion(); return false;"
                    style="display: none; margin-top: 20px;">
                    Next question
                </button>
            </div>

            <!-- Question 2: Radios vs checkboxes -->
            <div id="question-2" class="knowledge-question" style="display: none;">
                <h2 class="govuk-heading-m">Question 2: Multiple choice scenarios</h2>

                <div class="govuk-inset-text">
                    <p class="govuk-body"><strong>Scenario:</strong> You're creating a form for a language service. You
                        need
                        to ask users to select
                        all
                        the languages they speak fluently.</p>
                </div>

                <div class="govuk-form-group">
                    <fieldset class="govuk-fieldset">
                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">What type of input should you
                            use?</legend>
                        <div class="govuk-radios">
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="q2-radio" name="question-2" type="radio"
                                    value="radio">
                                <label class="govuk-label govuk-radios__label" for="q2-radio">Radios</label>
                            </div>
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="q2-checkbox" name="question-2" type="radio"
                                    value="checkbox">
                                <label class="govuk-label govuk-radios__label" for="q2-checkbox">Checkboxes</label>
                            </div>
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="q2-text" name="question-2" type="radio"
                                    value="text">
                                <label class="govuk-label govuk-radios__label" for="q2-text">Text input</label>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <button class="govuk-button govuk-button--secondary"
                    onclick="checkKnowledgeAnswer('question-2', 'checkbox', 'Since users can speak multiple languages, checkboxes are the best choice. They allow users to select all that apply.', 'Since users can speak multiple languages, checkboxes are the best choice. They allow users to select all that apply.'); return false;">
                    Check answer
                </button>

                <div id="feedback-2" style="display: none; margin-top: 20px;"></div>
                <button id="next-question-2" class="govuk-button" onclick="nextKnowledgeQuestion(); return false;"
                    style="display: none; margin-top: 20px;">
                    Next question
                </button>
            </div>

            <!-- Question 3: Conditions -->
            <div id="question-3" class="knowledge-question" style="display: none;">
                <h2 class="govuk-heading-m">Question 3: Dynamic form behavior</h2>

                <div class="govuk-inset-text">
                    <p class="govuk-body"><strong>Scenario:</strong> You're designing a form for a benefits service. You
                        need to show different
                        pages based on whether the user is over 18 or not.</p>
                </div>

                <div class="govuk-form-group">
                    <fieldset class="govuk-fieldset">
                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">What feature should you use?
                        </legend>
                        <div class="govuk-radios">
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="q3-conditions" name="question-3" type="radio"
                                    value="conditions">
                                <label class="govuk-label govuk-radios__label" for="q3-conditions">Conditions</label>
                            </div>
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="q3-guidance" name="question-3" type="radio"
                                    value="guidance">
                                <label class="govuk-label govuk-radios__label" for="q3-guidance">Guidance
                                    pages</label>
                            </div>
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="q3-declaration" name="question-3" type="radio"
                                    value="declaration">
                                <label class="govuk-label govuk-radios__label" for="q3-declaration">Declaration</label>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <button class="govuk-button govuk-button--secondary"
                    onclick="checkKnowledgeAnswer('question-3', 'conditions', 'Conditions allow you to show or hide pages based on user answers, creating personalized experiences that adapt to different user needs.', 'Conditions allow you to show or hide pages based on user answers, creating personalized experiences that adapt to different user needs.'); return false;">
                    Check answer
                </button>

                <div id="feedback-3" style="display: none; margin-top: 20px;"></div>
                <button id="next-question-3" class="govuk-button" onclick="nextKnowledgeQuestion(); return false;"
                    style="display: none; margin-top: 20px;">
                    Next question
                </button>
            </div>

            <!-- Question 4: Writing clear questions -->
            <div id="question-4" class="knowledge-question" style="display: none;">
                <h2 class="govuk-heading-m">Question 4: Question design</h2>

                <p class="govuk-body">Which of these questions follows GOV.UK style guidelines better?</p>

                <div class="govuk-form-group">
                    <fieldset class="govuk-fieldset">
                        <div class="govuk-radios">
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="q4-good" name="question-4" type="radio"
                                    value="good">
                                <label class="govuk-label govuk-radios__label" for="q4-good">"What is your email
                                    address?"</label>
                            </div>
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="q4-bad" name="question-4" type="radio"
                                    value="bad">
                                <label class="govuk-label govuk-radios__label" for="q4-bad">"Please provide your
                                    electronic mail address"</label>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <button class="govuk-button govuk-button--secondary"
                    onclick="checkKnowledgeAnswer('question-4', 'good', 'The first option uses plain English and is direct, following GOV.UK style guidelines. It\'s clear, concise, and user-friendly.', 'The first option uses plain English and is direct, following GOV.UK style guidelines. It\'s clear, concise, and user-friendly.'); return false;">
                    Check answer
                </button>

                <div id="feedback-4" style="display: none; margin-top: 20px;"></div>
                <button id="next-question-4" class="govuk-button" onclick="nextKnowledgeQuestion(); return false;"
                    style="display: none; margin-top: 20px;">
                    Next question
                </button>
            </div>

            <!-- Question 5: Accessibility -->
            <div id="question-5" class="knowledge-question" style="display: none;">
                <h2 class="govuk-heading-m">Question 5: Making forms accessible</h2>

                <p class="govuk-body">What's the most important aspect of making forms accessible to all users?</p>

                <div class="govuk-form-group">
                    <fieldset class="govuk-fieldset">
                        <div class="govuk-radios">
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="q5-labels" name="question-5" type="radio"
                                    value="labels">
                                <label class="govuk-label govuk-radios__label" for="q5-labels">Using proper labels
                                    and
                                    fieldset structure</label>
                            </div>
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="q5-colour" name="question-5" type="radio"
                                    value="colour">
                                <label class="govuk-label govuk-radios__label" for="q5-colour">Using bright colours
                                    to
                                    make text stand out</label>
                            </div>
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="q5-font" name="question-5" type="radio"
                                    value="font">
                                <label class="govuk-label govuk-radios__label" for="q5-font">Using fancy fonts to
                                    make
                                    text more readable</label>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <button class="govuk-button govuk-button--secondary"
                    onclick="checkKnowledgeAnswer('question-5', 'labels', 'Proper labels and fieldset structure are essential for screen readers and other assistive technologies. GOV.UK Design System components are built with accessibility in mind.', 'Proper labels and fieldset structure are essential for screen readers and other assistive technologies. GOV.UK Design System components are built with accessibility in mind.'); return false;">
                    Check answer
                </button>

                <div id="feedback-5" style="display: none; margin-top: 20px;"></div>
                <button id="next-question-5" class="govuk-button" onclick="nextKnowledgeQuestion(); return false;"
                    style="display: none; margin-top: 20px;">
                    Next question
                </button>
            </div>

            <!-- Completion message -->
            <div id="knowledge-completion" style="display: none;">
                <div class="govuk-notification-banner govuk-notification-banner--success" role="alert"
                    aria-labelledby="govuk-notification-banner-title" data-module="govuk-notification-banner">
                    <div class="govuk-notification-banner__header">
                        <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
                            Well done!
                        </h2>
                    </div>
                    <div class="govuk-notification-banner__content">
                        <p class="govuk-notification-banner__heading">
                            You've completed the knowledge check! You now have a solid understanding of form design
                            principles.
                        </p>
                    </div>
                </div>

                <div class="govuk-inset-text">
                    <h3 class="govuk-heading-s">Key takeaways:</h3>
                    <ul class="govuk-list govuk-list--bullet">
                        <li>Choose the right input type for your data</li>
                        <li>Use radios for single choices, checkboxes for multiple selections</li>
                        <li>Conditions create dynamic, personalized experiences</li>
                        <li>Write clear, specific questions in plain English</li>
                        <li>Always consider accessibility in your form design</li>
                    </ul>
                </div>

                {{ govukButton({
                text: "Continue to summary",
                href: "#",
                isStartButton: true,
                attributes: {
                onclick: "goToFeedback(); return false;"
                }
                }) }}
            </div>
        </div>

        <!-- Feedback section -->
        <div id="feedback-section" class="tutorial-section" style="display: none;">
            <h2 class="govuk-heading-l">How did you do?</h2>

            <div id="score-display" class="govuk-!-margin-bottom-6">
                <!-- Score will be populated by JavaScript -->
            </div>

            <div class="govuk-inset-text">
                <h3 class="govuk-heading-m">Key takeaways:</h3>
                <ul class="govuk-list govuk-list--bullet">
                    <li>Choose the right question type for your data</li>
                    <li>Use guidance pages to provide information</li>
                    <li>Add conditions to create dynamic forms</li>
                    <li>Write clear, specific questions</li>
                    <li>Follow GOV.UK design principles</li>
                </ul>
            </div>

            <div class="govuk-!-margin-top-6">
                <h3 class="govuk-heading-m">Next steps:</h3>
                <p class="govuk-body">Now that you've learned the basics, try creating your own form in the
                    Forms
                    Designer. Remember to:</p>
                <ul class="govuk-list govuk-list--bullet">
                    <li>Start with a clear purpose for your form</li>
                    <li>Plan your questions before building</li>
                    <li>Test with colleagues or users</li>
                    <li>Keep questions simple and focused</li>
                </ul>
            </div>

            <div class="govuk-button-group">
                <button class="govuk-button" onclick="restartTutorial()">Start over</button>
                <a href="/titan-mvp-1.2/form-editor/listing" class="govuk-button govuk-button--secondary">Go to
                    form
                    editor</a>
            </div>
        </div>

        <!-- Navigation -->
        {# <div class="govuk-!-margin-top-6">
            <button class="govuk-button" id="next-button" onclick="nextStep()" style="display: none;">Continue</button>
        </div> #}

    </div>

    <!-- Right column with GOV.UK Design System links -->
    {# <div class="govuk-grid-column-one-third">
        <div class="govuk-!-margin-top-6">
            <h2 class="govuk-heading-m">GOV.UK Design System</h2>

            <!-- Welcome section links -->
            <div id="welcome-links" class="sidebar-links">
                <h3 class="govuk-heading-s">Getting started</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/" class="govuk-link">Design System</a>
                    </li>
                    <li><a href="https://www.gov.uk/guidance/style-guide/a-to-z" class="govuk-link">Style
                            Guide</a></li>
                    <li><a href="https://design-system.service.gov.uk/styles/page-template/" class="govuk-link">Page
                            template</a></li>
                </ul>
            </div>

            <!-- Navigation section links -->
            <div id="navigation-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Navigation</h3>
                <ul class="govuk-list">
                    <li><a href="#" onclick="jumpToSection(1); return false;" class="govuk-link">Back to welcome</a>
                    </li>
                    <li><a href="#" onclick="jumpToSection(2); return false;" class="govuk-link">Short text
                            inputs</a>
                    </li>
                    <li><a href="#" onclick="jumpToSection(8); return false;" class="govuk-link">Radios</a>
                    </li>
                    <li><a href="#" onclick="jumpToSection(9); return false;" class="govuk-link">Checkboxes</a></li>
                </ul>
            </div>

            <!-- Short text section links -->
            <div id="short-text-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Form components</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/components/text-input/" class="govuk-link">Text
                            input</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/fieldset/"
                            class="govuk-link">Fieldset</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/button/" class="govuk-link">Button</a>
                    </li>
                </ul>
            </div>

            <!-- Email section links -->
            <div id="email-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Form components</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/components/text-input/" class="govuk-link">Text
                            input</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/fieldset/"
                            class="govuk-link">Fieldset</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/button/" class="govuk-link">Button</a>
                    </li>
                </ul>
            </div>

            <!-- Phone section links -->
            <div id="phone-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Form components</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/components/text-input/" class="govuk-link">Text
                            input</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/fieldset/"
                            class="govuk-link">Fieldset</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/button/" class="govuk-link">Button</a>
                    </li>
                </ul>
            </div>

            <!-- Numbers section links -->
            <div id="numbers-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Form components</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/components/text-input/" class="govuk-link">Text
                            input</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/fieldset/"
                            class="govuk-link">Fieldset</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/button/" class="govuk-link">Button</a>
                    </li>
                </ul>
            </div>

            <!-- Long text section links -->
            <div id="long-text-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Form components</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/components/textarea/"
                            class="govuk-link">Textarea</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/fieldset/"
                            class="govuk-link">Fieldset</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/button/" class="govuk-link">Button</a>
                    </li>
                </ul>
            </div>

            <!-- Text inputs summary section links -->
            <div id="text-inputs-summary-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Form components</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/components/text-input/" class="govuk-link">Text
                            input</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/textarea/"
                            class="govuk-link">Textarea</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/fieldset/"
                            class="govuk-link">Fieldset</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/button/" class="govuk-link">Button</a>
                    </li>
                </ul>
            </div>

            <!-- Radio buttons section links -->
            <div id="radio-buttons-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Form components</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/components/radios/" class="govuk-link">Radio
                            buttons</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/fieldset/"
                            class="govuk-link">Fieldset</a></li>
                    <li><a href="https://design-system.service.gov.uk/patterns/question-pages/"
                            class="govuk-link">Question pages</a></li>
                </ul>
            </div>

            <!-- Checkboxes section links -->
            <div id="checkboxes-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Form components</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/components/checkboxes/"
                            class="govuk-link">Checkboxes</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/fieldset/"
                            class="govuk-link">Fieldset</a></li>
                    <li><a href="https://design-system.service.gov.uk/patterns/question-pages/"
                            class="govuk-link">Question pages</a></li>
                </ul>
            </div>

            <!-- Guidance section links -->
            <div id="guidance-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Content components</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/components/inset-text/" class="govuk-link">Inset
                            text</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/panel/" class="govuk-link">Panel</a>
                    </li>
                    <li><a href="https://design-system.service.gov.uk/styles/typography/"
                            class="govuk-link">Typography</a></li>
                </ul>
            </div>

            <!-- Conditions section links -->
            <div id="conditions-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Form patterns</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/patterns/question-pages/"
                            class="govuk-link">Question pages</a></li>
                    <li><a href="https://design-system.service.gov.uk/patterns/check-answers/" class="govuk-link">Check
                            answers</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/button/" class="govuk-link">Button</a>
                    </li>
                </ul>
            </div>

            <!-- Check answers section links -->
            <div id="check-answers-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Check answers</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/patterns/check-answers/" class="govuk-link">Check
                            answers pattern</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/summary-list/"
                            class="govuk-link">Summary list</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/panel/" class="govuk-link">Panel</a>
                    </li>
                </ul>
            </div>

            <!-- Declarations section links -->
            <div id="declarations-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Declarations</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/components/panel/" class="govuk-link">Panel</a>
                    </li>
                    <li><a href="https://www.gov.uk/guidance/style-guide/a-to-z" class="govuk-link">Style
                            guide</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/button/" class="govuk-link">Button</a>
                    </li>
                </ul>
            </div>

            <!-- Short descriptions section links -->
            <div id="short-descriptions-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Error messages</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/components/error-message/"
                            class="govuk-link">Error message</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/error-summary/"
                            class="govuk-link">Error summary</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/summary-list/"
                            class="govuk-link">Summary list</a></li>
                </ul>
            </div>

            <!-- Short description practice section links -->
            <div id="short-description-practice-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Error messages</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/components/error-message/"
                            class="govuk-link">Error message</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/error-summary/"
                            class="govuk-link">Error summary</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/summary-list/"
                            class="govuk-link">Summary list</a></li>
                </ul>
            </div>

            <!-- Design section links -->
            <div id="design-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Design patterns</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/patterns/question-pages/"
                            class="govuk-link">Question pages</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/tabs/" class="govuk-link">Tabs</a>
                    </li>
                    <li><a href="https://design-system.service.gov.uk/styles/typography/"
                            class="govuk-link">Typography</a></li>
                </ul>
            </div>

            <!-- Writing questions section links -->
            <div id="writing-questions-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Content guidance</h3>
                <ul class="govuk-list">
                    <li><a href="https://www.gov.uk/guidance/style-guide/a-to-z" class="govuk-link">Style
                            guide</a></li>
                    <li><a href="https://design-system.service.gov.uk/styles/typography/#headings"
                            class="govuk-link">Headings</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/fieldset/"
                            class="govuk-link">Fieldset</a></li>
                </ul>
            </div>

            <!-- Style guide section links -->
            <div id="style-guide-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Writing guidance</h3>
                <ul class="govuk-list">
                    <li><a href="https://www.gov.uk/guidance/style-guide/a-to-z" class="govuk-link">Style
                            guide</a></li>
                    <li><a href="https://design-system.service.gov.uk/styles/typography/"
                            class="govuk-link">Typography</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/inset-text/" class="govuk-link">Inset
                            text</a></li>
                </ul>
            </div>

            <!-- Question types section links -->
            <div id="question-types-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Form components</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/components/date-input/" class="govuk-link">Date
                            input</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/select/" class="govuk-link">Select</a>
                    </li>
                    <li><a href="https://design-system.service.gov.uk/components/radios/" class="govuk-link">Radio
                            buttons</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/checkboxes/"
                            class="govuk-link">Checkboxes</a></li>
                </ul>
            </div>

            <!-- Guidance design section links -->
            <div id="guidance-design-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Content components</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/components/inset-text/" class="govuk-link">Inset
                            text</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/panel/" class="govuk-link">Panel</a>
                    </li>
                    <li><a href="https://design-system.service.gov.uk/components/tabs/" class="govuk-link">Tabs</a>
                    </li>
                </ul>
            </div>

            <!-- Accessibility section links -->
            <div id="accessibility-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Accessibility</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/components/fieldset/"
                            class="govuk-link">Fieldset</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/error-message/"
                            class="govuk-link">Error message</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/error-summary/"
                            class="govuk-link">Error summary</a></li>
                </ul>
            </div>

            <!-- Builder section links -->
            <div id="builder-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Form building</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/components/select/" class="govuk-link">Select
                            dropdown</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/button/" class="govuk-link">Button</a>
                    </li>
                    <li><a href="https://design-system.service.gov.uk/patterns/question-pages/"
                            class="govuk-link">Question pages</a></li>
                </ul>
            </div>

            <!-- Knowledge check section links -->
            <div id="knowledge-check-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Knowledge check</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/components/radios/" class="govuk-link">Radio
                            buttons</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/checkboxes/"
                            class="govuk-link">Checkboxes</a></li>
                    <li><a href="https://design-system.service.gov.uk/components/text-input/" class="govuk-link">Text
                            input</a></li>
                </ul>
            </div>

            <!-- Feedback section links -->
            <div id="feedback-links" class="sidebar-links" style="display: none;">
                <h3 class="govuk-heading-s">Next steps</h3>
                <ul class="govuk-list">
                    <li><a href="https://design-system.service.gov.uk/" class="govuk-link">Design System</a>
                    </li>
                    <li><a href="https://www.gov.uk/guidance/style-guide/a-to-z" class="govuk-link">Style
                            guide</a></li>
                    <li><a href="https://design-system.service.gov.uk/patterns/" class="govuk-link">Patterns</a>
                    </li>
                </ul>
            </div> #}
        </div>
    </div>
</div>

<style>
    .tutorial-section {
        min-height: 400px;
    }

    .knowledge-question {
        margin-bottom: 40px;
        padding: 20px;
        border: 1px solid #b1b4b6;
        border-radius: 4px;
        background-color: #f8f9fa;
    }

    .knowledge-question h2 {
        margin-top: 0;
        /* color: #0b0c0c; */
    }

    /* Override incorrect notification banner background color for tutorial - only for specific sections */
    .tutorial-section .govuk-notification-banner:not(.govuk-notification-banner--success) {
        background-color: #d4351c;
        border-color: #d4351c;
    }
</style>

<script>
    let currentStep = 0;
    let totalSteps = 23; // Updated to remove navigation menu
    let score = 0;
    let answers = {};
    let knowledgeCheckStep = 0;

    function startTutorial() {
        currentStep = 2;
        showStep(currentStep);

        // Scroll to top of the page
        window.scrollTo({
            top: 0,
            behavior: 'auto'
        });
    }

    function showStep(step) {
        // Hide all sections
        document.querySelectorAll('.tutorial-section').forEach(section => {
            section.style.display = 'none';
        });

        // Show current section
        const sections = ['welcome-section', 'short-text-section', 'email-section', 'phone-section', 'numbers-section', 'long-text-section', 'text-inputs-summary-section', 'radio-buttons-section', 'checkboxes-section', 'guidance-section', 'conditions-section', 'check-answers-section', 'declarations-section', 'short-descriptions-section', 'short-description-practice-section', 'design-section', 'writing-questions-section', 'style-guide-section', 'question-types-section', 'guidance-design-section', 'accessibility-section', 'builder-section', 'knowledge-check-section', 'feedback-section'];
        if (sections[step - 1]) {
            document.getElementById(sections[step - 1]).style.display = 'block';

            // Initialize knowledge check if we're on that section
            if (step === 23) {
                initializeKnowledgeCheck();
            }
        }

        // Update URL hash to match the current section
        const hashMapping = {
            1: '', // welcome section
            2: '#short-text',
            3: '#email',
            4: '#phone',
            5: '#numbers',
            6: '#long-text',
            7: '#text-inputs-summary',
            8: '#radio-buttons',
            9: '#checkboxes',
            10: '#guidance',
            11: '#conditions',
            12: '#check-answers',
            13: '#declarations',
            14: '#short-descriptions',
            15: '#short-description-practice',
            16: '#design',
            17: '#writing-questions',
            18: '#style-guide',
            19: '#question-types',
            20: '#guidance-design',
            21: '#accessibility',
            22: '#builder',
            23: '#knowledge-check',
            24: '' // feedback section
        };

        const newHash = hashMapping[step] || '';
        if (window.location.hash !== newHash) {
            window.location.hash = newHash;
        }

        // Show/hide back link
        const backLinkContainer = document.getElementById('back-link-container');
        if (step > 1) {
            backLinkContainer.style.display = 'block';
        } else {
            backLinkContainer.style.display = 'none';
        }

        // Show/hide navigation buttons
        const nextButton = document.getElementById('next-button');

        if (step > 1 && step < totalSteps && step !== 22) { // Don't show continue button on knowledge check section
            nextButton.style.display = 'inline-block';
        } else {
            nextButton.style.display = 'none';
        }

        // If we're on the feedback section, update the score display
        if (step === totalSteps) {
            updateScoreDisplay();
        }
    }

    function nextStep() {
        if (currentStep < totalSteps) {
            currentStep++;
            showStep(currentStep);

            // Scroll to top of the page
            window.scrollTo({
                top: 0,
                behavior: 'auto'
            });
        }
    }

    function previousStep() {
        if (currentStep > 1) {
            currentStep--;
            showStep(currentStep);

            // Scroll to top of the page
            window.scrollTo({
                top: 0,
                behavior: 'auto'
            });
        }
    }



    function checkAnswer(questionName, correctAnswer) {
        const selectedAnswer = document.querySelector(`input[name="${questionName}"]:checked`);

        if (!selectedAnswer) {
            alert('Please select an answer first.');
            return;
        }

        const isCorrect = selectedAnswer.value === correctAnswer;

        // Update score for style guide question
        if (questionName === 'style-guide-question' && isCorrect && !answers[questionName]) {
            score++;
            answers[questionName] = true;
        }

        // Update score for check answers question
        if (questionName === 'check-answers-question' && isCorrect && !answers[questionName]) {
            score++;
            answers[questionName] = true;
        }

        // Update score for declaration question
        if (questionName === 'declaration-question' && isCorrect && !answers[questionName]) {
            score++;
            answers[questionName] = true;
        }

        // Update score for short description question
        if (questionName === 'short-description-question' && isCorrect && !answers[questionName]) {
            score++;
            answers[questionName] = true;
        }

        // Remove existing notification
        const existingNotification = document.querySelector('.govuk-notification-banner');
        if (existingNotification) {
            existingNotification.remove();
        }

        // Create notification banner
        const notification = document.createElement('div');
        notification.className = isCorrect ? 'govuk-notification-banner govuk-notification-banner--success' : 'govuk-notification-banner govuk-notification-banner--error';
        notification.setAttribute('role', 'alert');
        notification.setAttribute('aria-labelledby', 'govuk-notification-banner-title');
        notification.setAttribute('data-module', 'govuk-notification-banner');
        notification.setAttribute('tabindex', '-1');

        let notificationMessage = '';

        if (questionName === 'name-question-type') {
            if (isCorrect) {
                score++;
                notificationMessage = 'Correct! Short text is the right choice for names.';
            } else {
                notificationMessage = 'Not quite right. Names should use the short text input type.';
            }
        } else if (questionName === 'age-question-type') {
            if (isCorrect) {
                score++;
                notificationMessage = 'Correct! Yes/No questions are perfect for simple binary choices like age checks.';
            } else {
                notificationMessage = 'Not quite right. Yes/No questions are designed specifically for simple binary choices like age checks.';
            }
        } else if (questionName === 'languages-question-type') {
            if (isCorrect) {
                score++;
                notificationMessage = 'Correct! Checkboxes are ideal when users can select multiple options.';
            } else {
                notificationMessage = 'Not quite right. Since users can speak multiple languages, checkboxes are the best choice.';
            }
        } else if (questionName === 'guidance-use') {
            if (isCorrect) {
                score++;
                notificationMessage = 'Correct! Guidance pages are perfect for providing information without requiring user input.';
            } else {
                notificationMessage = 'Not quite right. Guidance pages are used to provide information without asking questions.';
            }
        } else if (questionName === 'condition-use') {
            if (isCorrect) {
                score++;
                notificationMessage = 'Correct! Age-based forms benefit greatly from conditions to show different questions based on eligibility.';
            } else {
                notificationMessage = 'Not quite right. Forms that need different questions based on user characteristics benefit most from conditions.';
            }
        } else if (questionName === 'better-question') {
            if (isCorrect) {
                score++;
                notificationMessage = 'Correct! "What is your date of birth?" is clearer and more specific than "When were you born?"';
            } else {
                notificationMessage = 'Not quite right. "What is your date of birth?" is clearer and more specific.';
            }
        } else if (questionName === 'short-text-question') {
            if (isCorrect) {
                score++;
                notificationMessage = 'Correct! Job titles are perfect for short text inputs.';
            } else {
                notificationMessage = 'Not quite right. Job titles are brief, single-line responses that work well with short text inputs.';
            }
        } else if (questionName === 'email-question') {
            if (isCorrect) {
                score++;
                notificationMessage = 'Correct! Email inputs provide built-in validation to ensure proper email format.';
            } else {
                notificationMessage = 'Not quite right. Email inputs are specifically designed with built-in validation for email addresses.';
            }
        } else if (questionName === 'phone-question') {
            if (isCorrect) {
                score++;
                notificationMessage = 'Correct! Mobile numbers are perfect for phone inputs with proper formatting.';
            } else {
                notificationMessage = 'Not quite right. Phone inputs are designed specifically for telephone numbers, not email addresses or postcodes.';
            }
        } else if (questionName === 'number-question') {
            if (isCorrect) {
                score++;
                notificationMessage = 'Correct! Age is a perfect example of numeric data that works well with number inputs.';
            } else {
                notificationMessage = 'Not quite right. Number inputs are designed for numeric data like age, quantities, or amounts.';
            }
        } else if (questionName === 'long-text-question') {
            if (isCorrect) {
                score++;
                notificationMessage = 'Correct! Detailed comments and feedback need multiple lines and work perfectly with long text inputs.';
            } else {
                notificationMessage = 'Not quite right. Long text inputs are designed for detailed responses that need multiple lines.';
            }
        }

        notification.innerHTML = `
        <div class="govuk-notification-banner__header">
            <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
                ${isCorrect ? 'Correct' : 'Incorrect'}
            </h2>
        </div>
        <div class="govuk-notification-banner__content">
            <p class="govuk-notification-banner__heading">
                ${notificationMessage}
            </p>
        </div>
    `;

        // Insert notification at the top of the current section
        const currentSection = document.querySelector('.tutorial-section[style*="display: block"]');
        if (currentSection) {
            currentSection.insertBefore(notification, currentSection.firstChild);
        }

        // Store answer
        answers[questionName] = selectedAnswer.value;

        // Focus the notification for accessibility
        setTimeout(() => {
            notification.focus();
        }, 100);
    }

    function checkKnowledgeAnswer(questionName, correctAnswer, correctMessage, incorrectMessage) {
        const selectedAnswer = document.querySelector(`input[name="${questionName}"]:checked`);

        if (!selectedAnswer) {
            alert('Please select an answer first.');
            return;
        }

        const isCorrect = selectedAnswer.value === correctAnswer;

        // Update score
        if (isCorrect && !answers[questionName]) {
            score++;
            answers[questionName] = true;
        }

        // Show feedback
        const feedbackId = `feedback-${questionName.split('-')[1]}`;
        const feedbackElement = document.getElementById(feedbackId);

        if (feedbackElement) {
            const message = isCorrect ? correctMessage : incorrectMessage;
            feedbackElement.innerHTML = `
                <div class="govuk-notification-banner ${isCorrect ? 'govuk-notification-banner--success' : 'govuk-notification-banner--error'}" role="alert" aria-labelledby="govuk-notification-banner-title" data-module="govuk-notification-banner" tabindex="-1">
                    <div class="govuk-notification-banner__header">
                        <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
                            ${isCorrect ? 'Correct!' : 'Incorrect'}
                        </h2>
                    </div>
                    <div class="govuk-notification-banner__content">
                        <p class="govuk-notification-banner__heading">
                            ${message}
                        </p>
                    </div>
                </div>
            `;
            feedbackElement.style.display = 'block';

            // Focus the notification for accessibility
            setTimeout(() => {
                const notificationBanner = feedbackElement.querySelector('.govuk-notification-banner');
                if (notificationBanner) {
                    notificationBanner.focus();
                }
            }, 100);
        }

        // Show "Next question" button after feedback
        const nextButtonId = `next-question-${questionName.split('-')[1]}`;
        const nextButton = document.getElementById(nextButtonId);
        if (nextButton) {
            nextButton.style.display = 'inline-block';
        }
    }

    function checkRewrite() {
        const answer = document.getElementById('rewrite-question').value.toLowerCase();
        const goodAnswers = ['email', 'phone', 'contact', 'address', 'name'];
        const hasGoodAnswer = goodAnswers.some(good => answer.includes(good));

        // Remove existing notification
        const existingNotification = document.querySelector('.govuk-notification-banner');
        if (existingNotification) {
            existingNotification.remove();
        }

        const notification = document.createElement('div');
        notification.className = hasGoodAnswer ? 'govuk-notification-banner govuk-notification-banner--success' : 'govuk-notification-banner govuk-notification-banner--error';
        notification.setAttribute('role', 'alert');
        notification.setAttribute('aria-labelledby', 'govuk-notification-banner-title');
        notification.setAttribute('data-module', 'govuk-notification-banner');
        notification.setAttribute('tabindex', '-1');

        if (hasGoodAnswer) {
            score++;
            notification.innerHTML = `
            <div class="govuk-notification-banner__header">
                <h2 class="govuk-notification-banner__title" id="govuk-notification-banner__title">
                    Correct
                </h2>
            </div>
            <div class="govuk-notification-banner__content">
                <p class="govuk-notification-banner__heading">
                    Good job! Your question is much clearer and more specific.
                </p>
            </div>
        `;
        } else {
            notification.innerHTML = `
            <div class="govuk-notification-banner__header">
                <h2 class="govuk-notification-banner__title" id="govuk-notification-banner__title">
                    Incorrect
                </h2>
            </div>
            <div class="govuk-notification-banner__content">
                <p class="govuk-notification-banner__heading">
                    Try again. Make your question more specific, like "What is your email address?" or "What is your phone number?"
                </p>
            </div>
        `;
        }

        // Insert notification at the top of the current section
        const currentSection = document.querySelector('.tutorial-section[style*="display: block"]');
        if (currentSection) {
            currentSection.insertBefore(notification, currentSection.firstChild);

            // Focus the notification for accessibility
            setTimeout(() => {
                notification.focus();
            }, 100);
        }
    }

    function buildForm() {
        const formName = document.getElementById('form-name').value;
        const questionType = document.getElementById('question-type').value;
        const questionText = document.getElementById('question-text').value;

        if (!formName || !questionType || !questionText) {
            alert('Please fill in all fields.');
            return;
        }

        const preview = document.getElementById('form-preview');
        const content = document.getElementById('preview-content');

        content.innerHTML = `
        <h4 class="govuk-heading-s">${formName}</h4>
        <div class="govuk-form-group">
            <label class="govuk-label">${questionText}</label>
            ${getQuestionTypeHTML(questionType)}
        </div>
    `;

        preview.style.display = 'block';
        score++;
    }

    function getQuestionTypeHTML(type) {
        switch (type) {
            case 'text':
                return '<input class="govuk-input" type="text">';
            case 'email':
                return '<input class="govuk-input" type="email">';
            case 'radio':
                return `
                <div class="govuk-radios">
                    <div class="govuk-radios__item">
                        <input class="govuk-radios__input" type="radio" name="example">
                        <label class="govuk-label govuk-radios__label">Option 1</label>
                    </div>
                    <div class="govuk-radios__item">
                        <input class="govuk-radios__input" type="radio" name="example">
                        <label class="govuk-label govuk-radios__label">Option 2</label>
                    </div>
                </div>
            `;
            case 'checkbox':
                return `
                <div class="govuk-checkboxes">
                    <div class="govuk-checkboxes__item">
                        <input class="govuk-checkboxes__input" type="checkbox">
                        <label class="govuk-label govuk-checkboxes__label">Option 1</label>
                    </div>
                    <div class="govuk-checkboxes__item">
                        <input class="govuk-checkboxes__input" type="checkbox">
                        <label class="govuk-label govuk-checkboxes__label">Option 2</label>
                    </div>
                </div>
            `;
            case 'textarea':
                return '<textarea class="govuk-textarea" rows="3"></textarea>';
            default:
                return '<input class="govuk-input" type="text">';
        }
    }

    function updateScoreDisplay() {
        const scoreDisplay = document.getElementById('score-display');
        const maxPossibleScore = 19; // Updated to include knowledge check questions (14 + 5)
        const percentage = Math.round((score / maxPossibleScore) * 100);

        let scoreMessage = '';
        let scoreClass = '';

        if (percentage >= 80) {
            scoreMessage = `Excellent! You scored ${score} out of ${maxPossibleScore} (${percentage}%). You have a great understanding of form design principles.`;
            scoreClass = 'govuk-notification-banner govuk-notification-banner--success';
        } else if (percentage >= 60) {
            scoreMessage = `Good job! You scored ${score} out of ${maxPossibleScore} (${percentage}%). You understand the basics well.`;
            scoreClass = 'govuk-notification-banner govuk-notification-banner--success';
        } else {
            scoreMessage = `You scored ${score} out of ${maxPossibleScore} (${percentage}%). Keep practicing - form design takes time to master.`;
            scoreClass = 'govuk-notification-banner govuk-notification-banner--error';
        }

        scoreDisplay.innerHTML = `
        <div class="${scoreClass}" role="alert" aria-labelledby="govuk-notification-banner-title" data-module="govuk-notification-banner">
            <div class="govuk-notification-banner__header">
                <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
                    ${percentage >= 60 ? 'Correct' : 'Incorrect'}
                </h2>
            </div>
            <div class="govuk-notification-banner__content">
                <p class="govuk-notification-banner__heading">
                    ${scoreMessage}
                </p>
            </div>
        </div>
    `;
    }

    function restartTutorial() {
        currentStep = 0;
        score = 0;
        answers = {};
        knowledgeCheckStep = 0;
        showStep(1);
        updateProgress();

        // Clear all inputs
        document.querySelectorAll('input, textarea, select').forEach(input => {
            input.value = '';
            if (input.type === 'radio' || input.type === 'checkbox') {
                input.checked = false;
            }
        });

        // Remove notifications
        document.querySelectorAll('.govuk-notification-banner').forEach(notification => {
            notification.remove();
        });
    }

    // Function to handle practice condition exercises
    function checkPracticeAnswer(questionId, correctAnswer, correctFeedback, incorrectFeedback) {
        const selectedAnswer = document.querySelector(`input[name="${questionId}"]:checked`);
        const feedbackDiv = document.getElementById(`${questionId}-feedback`);

        if (!selectedAnswer) {
            alert('Please select an answer before checking.');
            return;
        }

        const isCorrect = selectedAnswer.value === correctAnswer;
        const feedbackMessage = isCorrect ? correctFeedback : incorrectFeedback;

        // Create notification banner
        const notificationBanner = document.createElement('div');
        notificationBanner.className = `govuk-notification-banner ${isCorrect ? 'govuk-notification-banner--success' : 'govuk-notification-banner--error'}`;
        notificationBanner.setAttribute('role', 'alert');
        notificationBanner.setAttribute('aria-labelledby', 'govuk-notification-banner-title');
        notificationBanner.setAttribute('data-module', 'govuk-notification-banner');
        notificationBanner.tabIndex = '-1';

        notificationBanner.innerHTML = `
            <div class="govuk-notification-banner__header">
                <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
                    ${isCorrect ? 'Correct!' : 'Incorrect'}
                </h2>
            </div>
            <div class="govuk-notification-banner__content">
                <p class="govuk-notification-banner__heading">
                    ${feedbackMessage}
                </p>
            </div>
        `;

        // Clear previous feedback and add new one
        feedbackDiv.innerHTML = '';
        feedbackDiv.appendChild(notificationBanner);
        feedbackDiv.style.display = 'block';

        // Focus on the notification banner for accessibility
        setTimeout(() => {
            notificationBanner.focus();
        }, 100);
    }

    // Hide form preview
    document.getElementById('form-preview').style.display = 'none';

    function goToFeedback() {
        currentStep = totalSteps; // Go to the feedback section
        showStep(currentStep);

        // Scroll to top of the page
        window.scrollTo({
            top: 0,
            behavior: 'auto'
        });
    }



    function jumpToSection(stepNumber) {
        currentStep = stepNumber;
        showStep(currentStep);

        // Scroll to top of the page
        window.scrollTo({
            top: 0,
            behavior: 'auto'
        });
    }

    // Handle hash-based navigation
    function handleHashNavigation() {
        const hash = window.location.hash.substring(1);
        const hashToStepMap = {
            'short-text': 2,
            'email': 3,
            'phone': 4,
            'numbers': 5,
            'long-text': 6,
            'text-inputs-summary': 7,
            'radio-buttons': 8,
            'checkboxes': 9,
            'guidance': 10,
            'conditions': 11,
            'check-answers': 12,
            'declarations': 13,
            'short-descriptions': 14,
            'short-description-practice': 15,
            'design': 16,
            'writing-questions': 17,
            'style-guide': 18,
            'question-types': 19,
            'guidance-design': 20,
            'accessibility': 21,
            'builder': 22,
            'knowledge-check': 23
        };

        if (hash && hashToStepMap[hash]) {
            jumpToSection(hashToStepMap[hash]);
        }
    }

    // Listen for hash changes
    window.addEventListener('hashchange', handleHashNavigation);

    function nextKnowledgeQuestion() {
        knowledgeCheckStep++;

        // Hide current question
        const currentQuestion = document.getElementById(`question-${knowledgeCheckStep}`);
        if (currentQuestion) {
            currentQuestion.style.display = 'none';
        }

        // Show next question or completion
        if (knowledgeCheckStep < 5) {
            const nextQuestion = document.getElementById(`question-${knowledgeCheckStep + 1}`);
            if (nextQuestion) {
                nextQuestion.style.display = 'block';
            }
        } else {
            // Show completion message
            const completionElement = document.getElementById('knowledge-completion');
            if (completionElement) {
                completionElement.style.display = 'block';
            }
        }
    }

    function checkSectionAnswer(questionName, correctAnswer, correctFeedback, incorrectFeedback) {
        console.log('checkSectionAnswer called with:', questionName, correctAnswer, correctFeedback, incorrectFeedback);

        const selectedAnswer = document.querySelector(`input[name="${questionName}"]:checked`);
        console.log('Selected answer:', selectedAnswer);

        if (!selectedAnswer) {
            alert('Please select an answer first.');
            return;
        }

        const isCorrect = selectedAnswer.value === correctAnswer;
        console.log('Is correct:', isCorrect);

        // Show feedback
        const feedbackId = `${questionName.replace('-test', '')}-feedback`;
        console.log('Looking for feedback element with ID:', feedbackId);
        const feedbackElement = document.getElementById(feedbackId);
        console.log('Found feedback element:', feedbackElement);

        if (feedbackElement) {
            const title = isCorrect ? 'Correct' : 'Incorrect';
            const message = isCorrect ? correctFeedback : incorrectFeedback;

            feedbackElement.innerHTML = `
                <div class="govuk-notification-banner${isCorrect ? ' govuk-notification-banner--success' : ' govuk-notification-banner--error'}" role="${isCorrect ? 'alert' : 'region'}" aria-labelledby="govuk-notification-banner-title" data-module="govuk-notification-banner" tabindex="-1">
                    <div class="govuk-notification-banner__header">
                        <h2 class="govuk-notification-banner__title--inverse" id="govuk-notification-banner-title">
                            ${title}
                        </h2>
                    </div>
                    <div class="govuk-notification-banner__content">
                        <h3 class="govuk-notification-banner__heading">
                            ${message}
                        </h3>
                    </div>
                </div>
            `;
            feedbackElement.style.display = 'block';
            console.log('Feedback displayed');

            // Focus the notification for accessibility
            setTimeout(() => {
                const notificationBanner = feedbackElement.querySelector('.govuk-notification-banner');
                if (notificationBanner) {
                    notificationBanner.focus();
                }
            }, 100);
        } else {
            console.error('Feedback element not found with ID:', feedbackId);
        }
    }

    function initializeKnowledgeCheck() {
        // Reset knowledge check state
        knowledgeCheckStep = 0;

        // Hide all questions except the first one
        for (let i = 1; i <= 5; i++) {
            const question = document.getElementById(`question-${i}`);
            if (question) {
                question.style.display = i === 1 ? 'block' : 'none';
            }
        }

        // Hide completion message
        const completionElement = document.getElementById('knowledge-completion');
        if (completionElement) {
            completionElement.style.display = 'none';
        }

        // Clear all feedback and hide next buttons
        for (let i = 1; i <= 5; i++) {
            const feedback = document.getElementById(`feedback-${i}`);
            if (feedback) {
                feedback.style.display = 'none';
            }
            const nextButton = document.getElementById(`next-question-${i}`);
            if (nextButton) {
                nextButton.style.display = 'none';
            }
        }
    }

    // Initialize the tutorial
    document.addEventListener('DOMContentLoaded', function () {
        // Check if there's a hash in the URL
        if (window.location.hash) {
            handleHashNavigation();
        } else {
            showStep(1);
        }
    });

    // Variables for practice questions
    let currentPracticeQuestion = 1;
    const totalPracticeQuestions = 7;

    // Function to test short description
    function testShortDescription(questionNumber = null) {
        // Use currentPracticeQuestion if no questionNumber is provided
        const actualQuestionNumber = questionNumber || currentPracticeQuestion;
        console.log('Testing short description for question:', actualQuestionNumber);

        const shortDescInput = document.getElementById(`practice-short-desc-${actualQuestionNumber}`);
        const resultsDiv = document.getElementById('practice-results');

        if (!shortDescInput || !resultsDiv) {
            console.log('Missing required elements for question', actualQuestionNumber);
            return;
        }

        // Show the results section first so the elements inside are accessible
        resultsDiv.style.display = 'block';
        console.log('Results div display style:', resultsDiv.style.display);

        // Now get the elements that are inside the results section
        const errorPreview = document.getElementById('error-preview');

        console.log('After showing results, elements found:', {
            errorPreview: !!errorPreview
        });

        console.log('Elements found:', {
            shortDescInput: !!shortDescInput,
            resultsDiv: !!resultsDiv,
            errorPreview: !!errorPreview
        });

        const shortDescription = shortDescInput.value.trim() || getDefaultShortDescription(actualQuestionNumber);
        console.log('Short description:', shortDescription);

        // Update the check answers key
        const checkAnswersKey = document.querySelector('#check-answers-key');
        if (checkAnswersKey) {
            checkAnswersKey.textContent = shortDescription;
        }

        // Update the error message based on question type
        updateErrorMessage(actualQuestionNumber, shortDescription);

        // For questions that have an error-preview span, update it
        if (errorPreview) {
            errorPreview.textContent = shortDescription.toLowerCase();
        }

        // Provide feedback on the short description
        provideFeedback(actualQuestionNumber, shortDescription);

        // Scroll to results
        resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }

    // Function to provide feedback on short descriptions
    function provideFeedback(questionNumber, shortDescription) {
        const feedbackContent = document.getElementById('feedback-content');
        if (!feedbackContent) return;

        const feedback = analyzeShortDescription(questionNumber, shortDescription);
        console.log('provideFeedback called with score:', feedback.score, 'message:', feedback.message);

        let feedbackHTML = '';

        if (feedback.score >= 9) {
            feedbackHTML = `
                <div class="govuk-notification-banner govuk-notification-banner--success" role="alert" aria-labelledby="govuk-notification-banner-title">
                    <div class="govuk-notification-banner__header">
                        <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">Excellent!</h2>
                    </div>
                    <div class="govuk-notification-banner__content">
                        <p class="govuk-notification-banner__heading">${feedback.message}</p>
                    </div>
                </div>
            `;
        } else if (feedback.score >= 7) {
            feedbackHTML = `
                <div class="govuk-notification-banner" role="alert" aria-labelledby="govuk-notification-banner-title">
                    <div class="govuk-notification-banner__header">
                        <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">Good!</h2>
                    </div>
                    <div class="govuk-notification-banner__content">
                        <p class="govuk-notification-banner__heading">${feedback.message}</p>
                        ${feedback.suggestions ? `<ul class="govuk-list govuk-list--bullet">${feedback.suggestions.map(s => `<li>${s}</li>`).join('')}</ul>` : ''}
                    </div>
                </div>
            `;
        } else {
            feedbackHTML = `
                <div class="govuk-notification-banner" role="alert" aria-labelledby="govuk-notification-banner-title" style="background-color: #d4351c; border-color: #d4351c;">
                    <div class="govuk-notification-banner__header">
                        <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">Needs improvement</h2>
                    </div>
                    <div class="govuk-notification-banner__content">
                        <p class="govuk-notification-banner__heading">${feedback.message}</p>
                        ${feedback.suggestions ? `<ul class="govuk-list govuk-list--bullet">${feedback.suggestions.map(s => `<li>${s}</li>`).join('')}</ul>` : ''}
                    </div>
                </div>
            `;
        }

        feedbackContent.innerHTML = feedbackHTML;
    }

    // Function to analyze short description quality
    function analyzeShortDescription(questionNumber, shortDescription) {
        let score = 10;
        const suggestions = [];
        const issues = [];



        // Get the actual question text
        const questionTexts = {
            1: 'What is your full name?',
            2: 'How many employees work at your business?',
            3: 'When did you start your business?',
            4: 'Upload your business plan',
            5: 'Are you registered for VAT?',
            6: 'What is your business address?',
            7: 'What is your National Insurance number?'
        };
        const questionText = questionTexts[questionNumber] || '';

        // Check for empty or very short descriptions
        if (!shortDescription || shortDescription.trim().length < 2) {
            score -= 10;
            issues.push('No description provided');
            suggestions.push('Enter a short description for this field');

            return {
                score: 0,
                message: 'Please enter a short description.',
                suggestions: suggestions
            };
        }

        // Check for proper capitalization - do this early
        const firstChar = shortDescription.charAt(0);
        const isUpperCase = firstChar === firstChar.toUpperCase();

        if (!isUpperCase) {
            score -= 5;
            issues.push('Should start with a capital letter');
            suggestions.push('Start your description with a capital letter');
        }

        // Check for nonsense or random characters
        const nonsensePattern = /^[^a-zA-Z\s]+$|^[a-zA-Z]{1,2}$|^[a-zA-Z]*[0-9]+[a-zA-Z]*$/;
        if (nonsensePattern.test(shortDescription)) {
            score -= 8;
            issues.push('Not a meaningful description');
            suggestions.push('Write a clear, meaningful description that relates to the question');

        }

        // Check for vague terms
        const vagueTerms = ['it', 'this', 'that', 'details', 'information', 'data'];
        const hasVagueTerms = vagueTerms.some(term =>
            shortDescription.toLowerCase().includes(term)
        );
        if (hasVagueTerms) {
            score -= 4;
            issues.push('Uses vague terms');
            suggestions.push('Be more specific - avoid words like "it", "this", "details"');

        }

        // Check for overly generic terms
        const genericTerms = ['field', 'input', 'answer', 'response'];
        const hasGenericTerms = genericTerms.some(term =>
            shortDescription.toLowerCase().includes(term)
        );
        if (hasGenericTerms) {
            score -= 3;
            issues.push('Too generic');
            suggestions.push('Be more specific about what this field collects');

        }

        // Check for appropriate length
        if (shortDescription.length > 50) {
            score -= 2;
            issues.push('Too long');
            suggestions.push('Keep it concise - aim for 2-5 words');

        }

        // Check for relevance to the specific question - this is the most important check
        const questionKeywords = {
            1: ['name', 'full name', 'first name', 'last name'],
            2: ['employees', 'staff', 'workers', 'number', 'count'],
            3: ['date', 'start date', 'business date', 'founding date', 'when'],
            4: ['plan', 'document', 'file', 'business plan', 'upload'],
            5: ['vat', 'registration', 'vat registration', 'registered'],
            6: ['address', 'business address', 'location', 'where'],
            7: ['ni number', 'national insurance', 'insurance number', 'ni']
        };

        const relevantKeywords = questionKeywords[questionNumber] || [];
        const hasRelevantKeyword = relevantKeywords.some(keyword =>
            shortDescription.toLowerCase().includes(keyword)
        );

        if (hasRelevantKeyword) {
            score += 2; // More points for relevance

        } else {
            score -= 5; // Bigger penalty for irrelevance
            issues.push('Not relevant to the question');
            suggestions.push(`Your description should relate to the question: "${questionText}". Consider using terms like: ${relevantKeywords.join(', ')}`);

        }

        // Check for exact matches from the question
        const questionWords = questionText.toLowerCase().split(' ').filter(word => word.length > 2);
        const hasQuestionWord = questionWords.some(word =>
            shortDescription.toLowerCase().includes(word)
        );

        if (hasQuestionWord) {
            score += 1;

        }

        // Generate contextual feedback message
        let message = '';
        if (score >= 9) {
            message = `Great short description! "${shortDescription}" is clear and specific for the question: "${questionText}".`;
        } else if (score >= 7) {
            message = `Good effort! "${shortDescription}" is mostly clear but could be more specific to: "${questionText}".`;
        } else {
            message = `"${shortDescription}" needs work for the question: "${questionText}". ${issues.join(', ')}.`;
        }





        return {
            score: Math.max(0, score),
            message: message,
            suggestions: suggestions
        };
    }

    // Function to get default short description based on question type
    function getDefaultShortDescription(questionNumber) {
        const defaults = {
            1: 'Full name',
            2: 'Number of employees',
            3: 'Business start date',
            4: 'Business plan',
            5: 'VAT registration',
            6: 'Business address',
            7: 'National Insurance number'
        };
        return defaults[questionNumber] || 'Phone number';
    }

    // Function to update error message based on question type
    function updateErrorMessage(questionNumber, shortDescription) {
        console.log('Updating error message for question:', questionNumber, 'with description:', shortDescription);

        const errorMessageLink = document.getElementById('error-message-link');
        if (!errorMessageLink) {
            console.log('Error message link not found');
            return;
        }

        const errorMessages = {
            1: `Enter ${shortDescription.toLowerCase()}`,
            2: `${shortDescription} must be a whole number`,
            3: `${shortDescription} must include a day`,
            4: `The selected file must be a PDF`,
            5: `Select yes if ${shortDescription.toLowerCase()} is true`,
            6: `Enter ${shortDescription.toLowerCase()}`,
            7: `${shortDescription} must be in the correct format`
        };

        const errorMessage = errorMessages[questionNumber] || `Enter ${shortDescription.toLowerCase()}`;
        console.log('Setting error message:', errorMessage);

        // Set the error message while preserving the span structure
        // For questions that start with "Enter", we need to preserve the span
        if (errorMessage.startsWith('Enter ')) {
            const textBeforeSpan = errorMessage.replace(shortDescription.toLowerCase(), '');
            errorMessageLink.innerHTML = `${textBeforeSpan}<span id="error-preview">${shortDescription.toLowerCase()}</span>`;
        } else {
            // For other error types, just set the text
            errorMessageLink.innerHTML = errorMessage;
        }
    }

    // Function to navigate to next practice question
    function nextPracticeQuestion() {
        console.log('Next question clicked. Current:', currentPracticeQuestion, 'Total:', totalPracticeQuestions);

        if (currentPracticeQuestion < totalPracticeQuestions) {
            // Hide current question
            const currentQuestion = document.getElementById(`practice-question-${currentPracticeQuestion}`);
            if (currentQuestion) {
                currentQuestion.style.display = 'none';
            }

            // Hide results section
            const resultsDiv = document.getElementById('practice-results');
            if (resultsDiv) {
                resultsDiv.style.display = 'none';
            }

            // Show next question
            currentPracticeQuestion++;
            const nextQuestion = document.getElementById(`practice-question-${currentPracticeQuestion}`);
            if (nextQuestion) {
                nextQuestion.style.display = 'block';
                console.log('Showing question:', currentPracticeQuestion);
            }

            // Update navigation buttons
            updatePracticeNavigationButtons();
        }
    }

    // Function to navigate to previous practice question
    function prevPracticeQuestion() {
        console.log('Previous question clicked. Current:', currentPracticeQuestion);

        if (currentPracticeQuestion > 1) {
            // Hide current question
            const currentQuestion = document.getElementById(`practice-question-${currentPracticeQuestion}`);
            if (currentQuestion) {
                currentQuestion.style.display = 'none';
            }

            // Hide results section
            const resultsDiv = document.getElementById('practice-results');
            if (resultsDiv) {
                resultsDiv.style.display = 'none';
            }

            // Show previous question
            currentPracticeQuestion--;
            const prevQuestion = document.getElementById(`practice-question-${currentPracticeQuestion}`);
            if (prevQuestion) {
                prevQuestion.style.display = 'block';
                console.log('Showing question:', currentPracticeQuestion);
            }

            // Update navigation buttons
            updatePracticeNavigationButtons();
        }
    }

    // Function to update navigation buttons
    function updatePracticeNavigationButtons() {
        const nextBtn = document.getElementById('next-question-btn');
        const prevBtn = document.getElementById('prev-question-btn');

        console.log('Updating navigation buttons. Current question:', currentPracticeQuestion);

        if (nextBtn) {
            const shouldShowNext = currentPracticeQuestion < totalPracticeQuestions;
            nextBtn.style.display = shouldShowNext ? 'inline-block' : 'none';
            console.log('Next button display:', shouldShowNext ? 'show' : 'hide');
        }

        if (prevBtn) {
            const shouldShowPrev = currentPracticeQuestion > 1;
            prevBtn.style.display = shouldShowPrev ? 'inline-block' : 'none';
            console.log('Previous button display:', shouldShowPrev ? 'show' : 'hide');
        }
    }

    // Initialize practice question navigation when page loads
    document.addEventListener('DOMContentLoaded', function () {
        // Show the first question by default
        const firstQuestion = document.getElementById('practice-question-1');
        if (firstQuestion) {
            firstQuestion.style.display = 'block';
        }

        // Hide all other questions
        for (let i = 2; i <= totalPracticeQuestions; i++) {
            const question = document.getElementById(`practice-question-${i}`);
            if (question) {
                question.style.display = 'none';
            }
        }

        // Reset current question to 1
        currentPracticeQuestion = 1;

        // Update navigation buttons
        updatePracticeNavigationButtons();
    });

    // Writing practice variables and functions
    let currentWritingQuestion = 1;
    const totalWritingQuestions = 5;

    // Function to check writing answer
    function checkWritingAnswer(questionNumber) {
        const selectedRadio = document.querySelector(`input[name="writing-answer-${questionNumber}"]:checked`);
        const resultsDiv = document.getElementById('writing-practice-results');
        const feedbackContent = document.getElementById('writing-feedback-content');

        if (!selectedRadio || !resultsDiv || !feedbackContent) {
            if (!selectedRadio) {
                alert('Please select an answer before checking.');
            } else {
                console.log('Missing elements for writing practice');
            }
            return;
        }

        const userAnswer = selectedRadio.value;

        // Show results section
        resultsDiv.style.display = 'block';

        // Analyze the answer based on question type
        const feedback = analyzeWritingAnswer(questionNumber, userAnswer);

        // Display feedback
        let feedbackHTML = '';
        if (feedback.score >= 9) {
            feedbackHTML = `
                <div class="govuk-notification-banner govuk-notification-banner--success" role="alert" aria-labelledby="govuk-notification-banner-title">
                    <div class="govuk-notification-banner__header">
                        <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">Excellent!</h2>
                    </div>
                    <div class="govuk-notification-banner__content">
                        <p class="govuk-notification-banner__heading">${feedback.message}</p>
                    </div>
                </div>
            `;
        } else if (feedback.score >= 7) {
            feedbackHTML = `
                <div class="govuk-notification-banner" role="alert" aria-labelledby="govuk-notification-banner-title">
                    <div class="govuk-notification-banner__header">
                        <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">Good!</h2>
                    </div>
                    <div class="govuk-notification-banner__content">
                        <p class="govuk-notification-banner__heading">${feedback.message}</p>
                        ${feedback.suggestions ? `<ul class="govuk-list govuk-list--bullet">${feedback.suggestions.map(s => `<li>${s}</li>`).join('')}</ul>` : ''}
                    </div>
                </div>
            `;
        } else {
            feedbackHTML = `
                <div class="govuk-notification-banner" role="alert" aria-labelledby="govuk-notification-banner-title" style="background-color: #d4351c; border-color: #d4351c;">
                    <div class="govuk-notification-banner__header">
                        <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">Needs improvement</h2>
                    </div>
                    <div class="govuk-notification-banner__content">
                        <p class="govuk-notification-banner__heading">${feedback.message}</p>
                        ${feedback.suggestions ? `<ul class="govuk-list govuk-list--bullet">${feedback.suggestions.map(s => `<li>${s}</li>`).join('')}</ul>` : ''}
                    </div>
                </div>
            `;
        }

        feedbackContent.innerHTML = feedbackHTML;
        resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }

    // Function to analyze writing answer
    function analyzeWritingAnswer(questionNumber, userAnswer) {
        let score = 10;
        const suggestions = [];
        const issues = [];

        const questionTypes = {
            1: 'business_specific',
            2: 'address_split',
            3: 'ni_guidance',
            4: 'employment_options',
            5: 'income_plain_english'
        };

        const questionType = questionTypes[questionNumber];

        // Check for empty answer
        if (!userAnswer || userAnswer.trim().length < 5) {
            score -= 5;
            issues.push('Answer is too short');
            suggestions.push('Provide a more detailed answer');
        }

        // Check for specific improvements based on question type
        switch (questionType) {
            case 'business_specific':
                // a = "What is your business name?" (correct)
                // b = "Business information" (original, wrong)
                // c = "Tell us about your business" (wrong)
                if (userAnswer === 'a') {
                    score = 10;
                    message = 'Excellent! You chose the specific question that clearly asks for what you need.';
                } else if (userAnswer === 'b') {
                    score = 3;
                    issues.push('Still too vague');
                    suggestions.push('Be specific about what business information you need');
                } else if (userAnswer === 'c') {
                    score = 4;
                    issues.push('Still an open question');
                    suggestions.push('Use a specific question instead of asking users to tell you about something');
                }
                break;

            case 'address_split':
                // a = Keep as one question (wrong)
                // b = Split into separate questions (correct)
                // c = Ask for address only (partial)
                if (userAnswer === 'b') {
                    score = 10;
                    message = 'Excellent! Splitting complex questions makes them easier to answer.';
                } else if (userAnswer === 'a') {
                    score = 2;
                    issues.push('Still asking multiple things in one question');
                    suggestions.push('Split complex questions to make them easier to answer');
                } else if (userAnswer === 'c') {
                    score = 6;
                    issues.push('Partially correct');
                    suggestions.push('Consider if you really need both pieces of information');
                }
                break;

            case 'ni_guidance':
                // a = No guidance (wrong)
                // b = Helpful guidance (correct)
                // c = Just "Required" (wrong)
                if (userAnswer === 'b') {
                    score = 10;
                    message = 'Excellent! Adding helpful guidance helps users find the information they need.';
                } else if (userAnswer === 'a') {
                    score = 4;
                    issues.push('No helpful guidance provided');
                    suggestions.push('Add guidance to help users find obscure information');
                } else if (userAnswer === 'c') {
                    score = 3;
                    issues.push('Unhelpful guidance');
                    suggestions.push('Provide specific guidance about where to find the information');
                }
                break;

            case 'employment_options':
                // a = Basic options (wrong)
                // b = Basic + "not sure" (partial)
                // c = Clear options + "not sure" (correct)
                if (userAnswer === 'c') {
                    score = 10;
                    message = 'Excellent! Clear, descriptive options with a "not sure" choice help users answer confidently.';
                } else if (userAnswer === 'b') {
                    score = 7;
                    issues.push('Good addition of "not sure" option');
                    suggestions.push('Make the options more descriptive and clear');
                } else if (userAnswer === 'a') {
                    score = 3;
                    issues.push('No "not sure" option and unclear terms');
                    suggestions.push('Add a "not sure" option and use clearer language');
                }
                break;

            case 'income_plain_english':
                // a = Original jargon (wrong)
                // b = "yearly income" (good)
                // c = "How much do you earn" (best)
                if (userAnswer === 'c') {
                    score = 10;
                    message = 'Excellent! Using plain English makes questions easier to understand.';
                } else if (userAnswer === 'b') {
                    score = 8;
                    issues.push('Good improvement');
                    suggestions.push('Consider using even simpler language');
                } else if (userAnswer === 'a') {
                    score = 2;
                    issues.push('Still uses jargon');
                    suggestions.push('Use plain English instead of technical terms');
                }
                break;
        }

        // Check for plain English
        const jargonWords = ['electronic mail', 'e-mail', 'utilize', 'facilitate', 'implement'];
        const hasJargon = jargonWords.some(word => userAnswer.toLowerCase().includes(word));
        if (hasJargon) {
            score -= 2;
            issues.push('Uses jargon');
            suggestions.push('Use plain English instead of technical terms');
        }

        // Generate feedback message
        let message = '';
        if (score >= 9) {
            message = `Excellent! Your answer demonstrates strong understanding of GOV.UK writing principles.`;
        } else if (score >= 7) {
            message = `Good effort! Your answer shows some understanding but could be improved.`;
        } else {
            message = `Your answer needs work. Review the feedback and try again.`;
        }

        return {
            score: Math.max(0, score),
            message: message,
            suggestions: suggestions
        };
    }

    // Function to navigate to next writing question
    function nextWritingQuestion() {
        if (currentWritingQuestion < totalWritingQuestions) {
            // Hide current question
            const currentQuestion = document.getElementById(`writing-practice-question-${currentWritingQuestion}`);
            if (currentQuestion) {
                currentQuestion.style.display = 'none';
            }

            // Hide results section
            const resultsDiv = document.getElementById('writing-practice-results');
            if (resultsDiv) {
                resultsDiv.style.display = 'none';
            }

            // Show next question
            currentWritingQuestion++;
            const nextQuestion = document.getElementById(`writing-practice-question-${currentWritingQuestion}`);
            if (nextQuestion) {
                nextQuestion.style.display = 'block';
            }

            // Update navigation buttons
            updateWritingNavigationButtons();
        }
    }

    // Function to navigate to previous writing question
    function prevWritingQuestion() {
        if (currentWritingQuestion > 1) {
            // Hide current question
            const currentQuestion = document.getElementById(`writing-practice-question-${currentWritingQuestion}`);
            if (currentQuestion) {
                currentQuestion.style.display = 'none';
            }

            // Hide results section
            const resultsDiv = document.getElementById('writing-practice-results');
            if (resultsDiv) {
                resultsDiv.style.display = 'none';
            }

            // Show previous question
            currentWritingQuestion--;
            const prevQuestion = document.getElementById(`writing-practice-question-${currentWritingQuestion}`);
            if (prevQuestion) {
                prevQuestion.style.display = 'block';
            }

            // Update navigation buttons
            updateWritingNavigationButtons();
        }
    }

    // Function to update writing navigation buttons
    function updateWritingNavigationButtons() {
        const nextBtn = document.getElementById('next-writing-btn');
        const prevBtn = document.getElementById('prev-writing-btn');

        if (nextBtn) {
            const shouldShowNext = currentWritingQuestion < totalWritingQuestions;
            nextBtn.style.display = shouldShowNext ? 'inline-block' : 'none';
        }

        if (prevBtn) {
            const shouldShowPrev = currentWritingQuestion > 1;
            prevBtn.style.display = shouldShowPrev ? 'inline-block' : 'none';
        }
    }

    // Initialize writing practice navigation
    document.addEventListener('DOMContentLoaded', function () {
        // Show the first writing question by default
        const firstWritingQuestion = document.getElementById('writing-practice-question-1');
        if (firstWritingQuestion) {
            firstWritingQuestion.style.display = 'block';
        }

        // Hide all other writing questions
        for (let i = 2; i <= totalWritingQuestions; i++) {
            const question = document.getElementById(`writing-practice-question-${i}`);
            if (question) {
                question.style.display = 'none';
            }
        }

        // Reset current writing question to 1
        currentWritingQuestion = 1;

        // Update writing navigation buttons
        updateWritingNavigationButtons();
    });

    // Collapsible Navigation Functionality
    document.addEventListener('DOMContentLoaded', function () {
        // Get all toggle buttons
        const toggleButtons = document.querySelectorAll('.app-vertical-nav__toggle');

        toggleButtons.forEach(button => {
            button.addEventListener('click', function (e) {
                e.preventDefault();

                // Get the target list to toggle
                const targetId = this.getAttribute('aria-controls');
                const targetList = document.getElementById(targetId);
                const isExpanded = this.getAttribute('aria-expanded') === 'true';

                if (targetList) {
                    // Toggle the list visibility
                    if (isExpanded) {
                        targetList.style.display = 'none';
                        targetList.setAttribute('hidden', '');
                        this.setAttribute('aria-expanded', 'false');
                        this.parentElement.classList.remove('app-vertical-nav__item--open');
                    } else {
                        targetList.style.display = 'block';
                        targetList.removeAttribute('hidden');
                        this.setAttribute('aria-expanded', 'true');
                        this.parentElement.classList.add('app-vertical-nav__item--open');
                    }
                }
            });
        });

        // Initialize the navigation state
        // Form Components section should be open by default
        const formComponentsList = document.getElementById('tutorial-nav-collapsible-nav-0');
        const formComponentsButton = document.querySelector('[aria-controls="tutorial-nav-collapsible-nav-0"]');

        if (formComponentsList && formComponentsButton) {
            formComponentsList.style.display = 'block';
            formComponentsList.removeAttribute('hidden');
            formComponentsButton.setAttribute('aria-expanded', 'true');
            formComponentsButton.parentElement.classList.add('app-vertical-nav__item--open');
        }

        // Form Design section should be closed by default
        const formDesignList = document.getElementById('tutorial-nav-collapsible-nav-1');
        const formDesignButton = document.querySelector('[aria-controls="tutorial-nav-collapsible-nav-1"]');

        if (formDesignList && formDesignButton) {
            formDesignList.style.display = 'none';
            formDesignList.setAttribute('hidden', '');
            formDesignButton.setAttribute('aria-expanded', 'false');
            formDesignButton.parentElement.classList.remove('app-vertical-nav__item--open');
        }

        // Set active navigation link based on current hash
        function setActiveNavLink() {
            const currentHash = window.location.hash;
            if (currentHash) {
                // Remove active class from all links
                const allLinks = document.querySelectorAll('.app-vertical-nav__link');
                allLinks.forEach(link => {
                    link.classList.remove('app-vertical-nav__link--active');
                    link.parentElement.classList.remove('app-vertical-nav__item--active');
                });

                // Add active class to current link
                const activeLink = document.querySelector(`.app-vertical-nav__link[href="${currentHash}"]`);
                if (activeLink) {
                    activeLink.classList.add('app-vertical-nav__link--active');
                    activeLink.parentElement.classList.add('app-vertical-nav__item--active');

                    // Expand the parent section if it's collapsed
                    const parentSection = activeLink.closest('.app-vertical-nav__list');
                    if (parentSection && parentSection.id) {
                        const sectionId = parentSection.id;
                        const toggleButton = document.querySelector(`[aria-controls="${sectionId}"]`);
                        if (toggleButton) {
                            const isExpanded = toggleButton.getAttribute('aria-expanded') === 'true';
                            if (!isExpanded) {
                                // Expand the section
                                parentSection.style.display = 'block';
                                parentSection.removeAttribute('hidden');
                                toggleButton.setAttribute('aria-expanded', 'true');
                                toggleButton.parentElement.classList.add('app-vertical-nav__item--open');
                            }
                        }
                    }
                }
            }
        }

        // Set active link on page load
        setActiveNavLink();

        // Update active link when hash changes
        window.addEventListener('hashchange', setActiveNavLink);
    });
</script>
{% endblock %}