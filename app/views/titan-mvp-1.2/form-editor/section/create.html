{% extends "layouts/main.html" %}
{% from "components/service-header/macro.njk" import serviceHeader %}

{% block header %}
{{ serviceHeader({
organisationName: "Defra",
productName: "Form Designer",
serviceName: "",
containerClasses: containerClasses,
accountName: "Chris Smith",
homepageLink: "/",
signOutLink: "/onboarding/sign-out-confirmation",
navigationItems: [
{ href: "/titan-mvp-1.2/library.html", text: "Forms library", id: "nav-library" },
{ href: "/cph-overview/draft/complete-clean.html", text: "Overview", id: "nav-overview" },
{ href: "/titan-mvp-1.2/form-editor/listing", text: "Editor", id: "nav-editor" }
],
activeLinkId: "nav-editor"
}) }}

<div class="x-govuk-masthead x-govuk-masthead--large">
    <div class="govuk-width-container">
        {{ govukBackLink({
        classes: "govuk-back-link--inverse govuk-!-margin-bottom-0",
        text: "Back",
        href: "/titan-mvp-1.2/form-editor/question-type/guidance-configuration-nojs.html"
        }) }}

        <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible"
            style="border-bottom: 1px solid white; margin-bottom: 0" />

        <div class="govuk-grid-row">
            <div class="govuk-grid-column-full-from-desktop">
                <h1 class="x-govuk-masthead__title">
                    {{ form.name }}
                </h1>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-l">Create new section</h1>

        {% if error %}
        <div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1"
            data-module="govuk-error-summary">
            <h2 class="govuk-error-summary__title" id="error-summary-title">
                There is a problem
            </h2>
            <div class="govuk-error-summary__body">
                <ul class="govuk-list govuk-error-summary__list">
                    <li>
                        <a href="#section-name">{{ error }}</a>
                    </li>
                </ul>
            </div>
        </div>
        {% endif %}

        <form action="/titan-mvp-1.2/form-editor/section/create" method="post">
            <input type="hidden" name="returnUrl"
                value="{{ data.returnUrl or '/titan-mvp-1.2/form-editor/question-type/guidance-configuration-nojs.html' }}">

            {{ govukInput({
            label: {
            text: "Section name",
            classes: "govuk-label--m",
            isPageHeading: false
            },
            hint: {
            text: "Enter a name for your new section"
            },
            id: "section-name",
            name: "sectionName",
            value: data.sectionName or '',
            errorMessage: error and {
            text: error
            }
            }) }}

            <div class="govuk-button-group">
                {{ govukButton({
                text: "Create section",
                type: "submit"
                }) }}

                <a href="/titan-mvp-1.2/form-editor/question-type/guidance-configuration-nojs.html"
                    class="govuk-link">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}