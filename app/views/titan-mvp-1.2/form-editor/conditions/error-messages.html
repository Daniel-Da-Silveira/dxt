{% extends "layouts/main.html" %}
{% from "govuk/components/notification-banner/macro.njk" import govukNotificationBanner %}

{% block content %}
<div class="govuk-width-container">
    <h1 class="govuk-heading-l">Error messages and summaries - Conditions</h1>

    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            <h2 class="govuk-heading-m">Common form field errors</h2>
            <p class="govuk-body">These error states are shared between the manager and edit pages.</p>

            <!-- Error Summary - Appears directly below sub-navigation -->
            <div class="govuk-error-summary" data-module="govuk-error-summary">
                <div role="alert">
                    <h2 class="govuk-error-summary__title">
                        There is a problem
                    </h2>
                    <div class="govuk-error-summary__body">
                        <ul class="govuk-list govuk-error-summary__list">
                            <!-- First condition errors -->
                            <li>
                                <a href="#questionSelect">Select a question for condition 1</a>
                            </li>
                            <li>
                                <a href="#operatorSelect">Select a condition type for condition 1</a>
                            </li>
                            <li>
                                <a href="#value-yes-no">Select a value for condition 1</a>
                            </li>
                            <!-- Second condition errors -->
                            <li>
                                <a href="#condition-question-2">Select a question for condition 2</a>
                            </li>
                            <li>
                                <a href="#condition-operator-2">Select a condition type for condition 2</a>
                            </li>
                            <li>
                                <a href="#condition-value-container-2">Select a value for condition 2</a>
                            </li>
                            <!-- Condition name error -->
                            <li>
                                <a href="#conditionName">Enter condition name</a>
                            </li>
                            <!-- Duplicate condition name error -->
                            <li>
                                <a href="#conditionName">Condition name already exists - use a unique condition name</a>
                            </li>
                            <!-- No conditions selected error -->
                            <li>
                                <a href="#existing-conditions">Select existing condition</a>
                            </li>
                            <!-- Logical operator error (when multiple conditions) -->
                            <li>
                                <a href="#logical-operator-group">Choose how you want to combine conditions</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3 class="govuk-heading-s">Individual field errors</h3>

            <!-- Empty Question Selection -->
            <div class="govuk-form-group govuk-form-group--error">
                <label class="govuk-label" for="questionSelect">
                    Select a question
                </label>
                <p id="questionSelect-error" class="govuk-error-message">
                    <span class="govuk-visually-hidden">Error:</span> Select a question for condition 1
                </p>
                <select class="govuk-select govuk-select--error" id="questionSelect" name="question">
                    <option value="">Choose a question</option>
                    <option value="1">Are you a farmer?</option>
                    <option value="2">What type of livestock do you have?</option>
                </select>
            </div>

            <!-- Empty Condition Type -->
            <div class="govuk-form-group govuk-form-group--error">
                <label class="govuk-label" for="operatorSelect">
                    Condition type
                </label>
                <p id="operatorSelect-error" class="govuk-error-message">
                    <span class="govuk-visually-hidden">Error:</span> Select a condition type for condition 1
                </p>
                <select class="govuk-select govuk-select--error" id="operatorSelect" name="operator">
                    <option value="">Select a condition type</option>
                    <option value="is">is</option>
                    <option value="is-not">is not</option>
                </select>
            </div>

            <!-- Empty Condition Value - Yes/No Question -->
            <div class="govuk-form-group govuk-form-group--error">
                <label class="govuk-label" for="value-yes-no">
                    Select a value
                </label>
                <p id="value-error-yes-no" class="govuk-error-message">
                    <span class="govuk-visually-hidden">Error:</span> Select a value for condition 1
                </p>
                <div class="govuk-radios" data-module="govuk-radios">
                    <div class="govuk-radios__item">
                        <input class="govuk-radios__input" type="radio" name="value-yes-no" id="value-yes" value="Yes">
                        <label class="govuk-label govuk-radios__label" for="value-yes">Yes</label>
                    </div>
                    <div class="govuk-radios__item">
                        <input class="govuk-radios__input" type="radio" name="value-yes-no" id="value-no" value="No">
                        <label class="govuk-label govuk-radios__label" for="value-no">No</label>
                    </div>
                </div>
            </div>

            <!-- Empty Condition Value - Radio Options -->
            <div class="govuk-form-group govuk-form-group--error">
                <label class="govuk-label" for="value-radios">
                    Select a value
                </label>
                <p id="value-error-radios" class="govuk-error-message">
                    <span class="govuk-visually-hidden">Error:</span> Select a value for condition 1
                </p>
                <div class="govuk-radios" data-module="govuk-radios">
                    <div class="govuk-radios__item">
                        <input class="govuk-radios__input" type="radio" name="value-radios" id="value-arable"
                            value="arable">
                        <label class="govuk-label govuk-radios__label" for="value-arable">Arable farm</label>
                    </div>
                    <div class="govuk-radios__item">
                        <input class="govuk-radios__input" type="radio" name="value-radios" id="value-livestock"
                            value="livestock">
                        <label class="govuk-label govuk-radios__label" for="value-livestock">Livestock farm</label>
                    </div>
                    <div class="govuk-radios__item">
                        <input class="govuk-radios__input" type="radio" name="value-radios" id="value-mixed"
                            value="mixed">
                        <label class="govuk-label govuk-radios__label" for="value-mixed">Mixed farm</label>
                    </div>
                    <div class="govuk-radios__item">
                        <input class="govuk-radios__input" type="radio" name="value-radios" id="value-other"
                            value="other">
                        <label class="govuk-label govuk-radios__label" for="value-other">Other</label>
                    </div>
                </div>
            </div>

            <!-- Empty Condition Value - Checkboxes -->
            <div class="govuk-form-group govuk-form-group--error">
                <label class="govuk-label" for="value-checkboxes">
                    Select a value
                </label>
                <p id="value-error-checkboxes" class="govuk-error-message">
                    <span class="govuk-visually-hidden">Error:</span> Select a value for condition 1
                </p>
                <div class="govuk-checkboxes" data-module="govuk-checkboxes">
                    <div class="govuk-checkboxes__item">
                        <input class="govuk-checkboxes__input" type="checkbox" name="value-checkboxes" id="value-cattle"
                            value="cattle">
                        <label class="govuk-label govuk-checkboxes__label" for="value-cattle">Cattle</label>
                    </div>
                    <div class="govuk-checkboxes__item">
                        <input class="govuk-checkboxes__input" type="checkbox" name="value-checkboxes" id="value-sheep"
                            value="sheep">
                        <label class="govuk-label govuk-checkboxes__label" for="value-sheep">Sheep</label>
                    </div>
                    <div class="govuk-checkboxes__item">
                        <input class="govuk-checkboxes__input" type="checkbox" name="value-checkboxes" id="value-pigs"
                            value="pigs">
                        <label class="govuk-label govuk-checkboxes__label" for="value-pigs">Pigs</label>
                    </div>
                    <div class="govuk-checkboxes__item">
                        <input class="govuk-checkboxes__input" type="checkbox" name="value-checkboxes"
                            id="value-poultry" value="poultry">
                        <label class="govuk-label govuk-checkboxes__label" for="value-poultry">Poultry</label>
                    </div>
                </div>
            </div>

            <!-- Empty Condition Name -->
            <div class="govuk-form-group govuk-form-group--error">
                <label class="govuk-label" for="conditionName">
                    Condition name
                </label>
                <div class="govuk-hint">
                    Condition names help you to identify conditions in your form, for example, 'Not a farmer'.
                    Users will not see condition names.
                </div>
                <p id="conditionName-error" class="govuk-error-message">
                    <span class="govuk-visually-hidden">Error:</span> Enter condition name
                </p>
                <input class="govuk-input govuk-input--error" id="conditionName" name="conditionName" type="text">
            </div>

            <!-- Duplicate Condition Name -->
            <div class="govuk-form-group govuk-form-group--error">
                <label class="govuk-label" for="conditionName">
                    Condition name
                </label>
                <p id="conditionName-duplicate-error" class="govuk-error-message">
                    <span class="govuk-visually-hidden">Error:</span> Condition name already exists - use a unique
                    condition name
                </p>
                <input class="govuk-input govuk-input--error" id="conditionName" name="conditionName" type="text">
            </div>

            <!-- No Conditions Selected -->
            <div class="govuk-form-group govuk-form-group--error">
                <label class="govuk-label" for="existing-conditions">
                    Select existing condition
                </label>
                <p id="existing-conditions-error" class="govuk-error-message">
                    <span class="govuk-visually-hidden">Error:</span> Select existing condition
                </p>
                <select class="govuk-select govuk-select--error" id="existing-conditions" name="existing-conditions">
                    <option value="">Choose a condition</option>
                </select>
            </div>

            <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">

            <h2 class="govuk-heading-m">Page specific contexts</h2>

            <!-- Manager page context -->
            <h3 class="govuk-heading-s">Conditions manager page</h3>
            <nav class="moj-sub-navigation govuk-!-padding-top-0 govuk-!-margin-bottom-2" aria-label="Sub navigation">
                <ul class="moj-sub-navigation__list">
                    <li class="moj-sub-navigation__item">
                        <a class="moj-sub-navigation__link" aria-current="page" href="#">
                            All conditions
                        </a>
                    </li>
                    <li class="moj-sub-navigation__item">
                        <a class="moj-sub-navigation__link" href="#">
                            Add condition
                        </a>
                    </li>
                </ul>
            </nav>
            <p class="govuk-body">Uses the common form fields above when adding a new condition.</p>

            <!-- Edit page context -->
            <h3 class="govuk-heading-s">Edit condition page</h3>
            <nav class="moj-sub-navigation govuk-!-padding-top-0 govuk-!-margin-bottom-2" aria-label="Sub navigation">
                <ul class="moj-sub-navigation__list">
                    <li class="moj-sub-navigation__item">
                        <a class="moj-sub-navigation__link" href="/titan-mvp-1/form-editor/conditions/manager">
                            All conditions
                        </a>
                    </li>
                    <li class="moj-sub-navigation__item">
                        <a class="moj-sub-navigation__link" aria-current="page" href="#">
                            Edit condition
                        </a>
                    </li>
                </ul>
            </nav>
            <p class="govuk-body">Uses the common form fields above when editing an existing condition.</p>

            <h3 class="govuk-heading-s">Additional conditions</h3>
            <div class="condition-item app-form-container">
                <fieldset class="govuk-fieldset">
                    <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                        Additional condition 1
                    </legend>

                    <!-- Additional Condition - Empty Question -->
                    <div class="govuk-form-group govuk-form-group--error">
                        <label class="govuk-label" for="condition-question-1">Select a question</label>
                        <p id="condition-question-1-error" class="govuk-error-message">
                            <span class="govuk-visually-hidden">Error:</span> Select a question for condition 2
                        </p>
                        <select class="govuk-select govuk-select--error condition-question" id="condition-question-1"
                            name="question-1">
                            <option value="">Choose a question</option>
                            <option value="1">Are you a farmer?</option>
                            <option value="2">What type of livestock do you have?</option>
                        </select>
                    </div>

                    <!-- Additional Condition - Empty Type -->
                    <div class="govuk-form-group govuk-form-group--error">
                        <label class="govuk-label" for="condition-operator-1">Condition type</label>
                        <p id="condition-operator-1-error" class="govuk-error-message">
                            <span class="govuk-visually-hidden">Error:</span> Select a condition type for condition 2
                        </p>
                        <select class="govuk-select govuk-select--error" id="condition-operator-1" name="operator-1">
                            <option value="">Select a condition type</option>
                            <option value="is">is</option>
                            <option value="is-not">is not</option>
                        </select>
                    </div>

                    <!-- Additional Condition - Empty Value -->
                    <div class="govuk-form-group govuk-form-group--error condition-value-container"
                        id="condition-value-container-1">
                        <label class="govuk-label">Select a value</label>
                        <p id="condition-value-1-error" class="govuk-error-message">
                            <span class="govuk-visually-hidden">Error:</span> Select a value for condition 2
                        </p>
                        <!-- Value inputs will be dynamically populated -->
                    </div>
                </fieldset>
            </div>

            <!-- Example of a second additional condition -->
            <div class="condition-item app-form-container">
                <fieldset class="govuk-fieldset">
                    <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                        Additional condition 2
                    </legend>

                    <!-- Additional Condition - Empty Question -->
                    <div class="govuk-form-group govuk-form-group--error">
                        <label class="govuk-label" for="condition-question-2">Select a question</label>
                        <p id="condition-question-2-error" class="govuk-error-message">
                            <span class="govuk-visually-hidden">Error:</span> Select a question for condition 2
                        </p>
                        <select class="govuk-select govuk-select--error condition-question" id="condition-question-2"
                            name="question-2">
                            <option value="">Choose a question</option>
                            <option value="1">Are you a farmer?</option>
                            <option value="2">What type of livestock do you have?</option>
                        </select>
                    </div>

                    <!-- Additional Condition - Empty Type -->
                    <div class="govuk-form-group govuk-form-group--error">
                        <label class="govuk-label" for="condition-operator-2">Condition type</label>
                        <p id="condition-operator-2-error" class="govuk-error-message">
                            <span class="govuk-visually-hidden">Error:</span> Select a condition type for condition 2
                        </p>
                        <select class="govuk-select govuk-select--error" id="condition-operator-2" name="operator-2">
                            <option value="">Select a condition type</option>
                            <option value="is">is</option>
                            <option value="is-not">is not</option>
                        </select>
                    </div>

                    <!-- Additional Condition - Empty Value -->
                    <div class="govuk-form-group govuk-form-group--error condition-value-container"
                        id="condition-value-container-2">
                        <label class="govuk-label">Select a value</label>
                        <p id="condition-value-2-error" class="govuk-error-message">
                            <span class="govuk-visually-hidden">Error:</span> Select a value for condition 2
                        </p>
                        <!-- Value inputs will be dynamically populated -->
                    </div>
                </fieldset>
            </div>

            <!-- Warning About Affected Pages -->
            <div class="govuk-warning-text govuk-!-margin-bottom-2">
                <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
                <strong class="govuk-warning-text__text">
                    <span class="govuk-visually-hidden">Warning</span>
                    Changes to this condition will affect the following pages:
                    <ul class="govuk-list govuk-list--bullet govuk-!-font-weight-bold govuk-!-margin-top-2">
                        <li>Page 1</li>
                        <li>Page 2</li>
                        <li>Page 3</li>
                    </ul>
                </strong>
            </div>

            <!-- Success Notification Banner -->
            {{ govukNotificationBanner({
            type: "success",
            titleText: "Success",
            text: "Changes saved"
            }) }}

        </div>
    </div>
</div>

<style>
    /* New styles for the form container */
    .app-form-container {
        border-left: 4px solid #008938;
        background-color: #f8f8f8;
        outline: 1px solid #b1b4b6;
        padding: 30px;
        position: relative;
        margin-bottom: 20px;
    }
</style>
{% endblock %}