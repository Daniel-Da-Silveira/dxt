{% extends "layouts/main.html" %}

{% from "components/service-header/macro.njk" import serviceHeader %}

{% block header %}
{{ serviceHeader({
organisationName: "Defra",
productName: "Form Designer",
serviceName: "",
accountName: "Chris Smith",
homepageLink: "/",
signOutLink: "/titan-mvp-1.2/onboarding/sign-out-confirmation",
navigationItems: [
{
href: "/titan-mvp-1.2/library.html",
text: "Forms library",
id: "nav-library"
},
{
href: "/titan-mvp-1.2/form-overview/draft/complete.html",
text: "Overview",
id: "nav-overview"
},{
href: "/titan-mvp-1.2/form-editor/listing",
text: 'Editor',
id: 'nav-editor'
}],
activeLinkId: "/"
}) }}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <span class="govuk-caption-xl">{{ form.name }}</span>
        <h1 class="govuk-heading-xl">Are you sure you want to make the draft live?</h1>
        <p class="govuk-body-l">Submitted forms will be sent to <a href="#" class="govuk-link">{{ form.team.email
                }}</a>.</p>

        {% from "govuk/components/button/macro.njk" import govukButton %}

        <!-- AI Compliance Check Section -->
        <div class="govuk-inset-text" style="margin: 30px 0;">
            <h3 class="govuk-heading-s">AI review</h3>
            <p class="govuk-body">Before making your form live, you can run an AI-powered review against GDS standards.
                This will help identify potential issues and provide recommendations for improvement before you make
                your
                form live.</p>

            <div class="govuk-button-group">
                <a href="/titan-mvp-1.2/form-overview/manage-form/make-draft-live/ai-compliance-loading"
                    class="govuk-button govuk-button--secondary">
                    <svg width="24" height="24" viewBox="0 0 20 24" fill="none" aria-hidden="true" focusable="false"
                        style="vertical-align: middle; margin-right: 2px;">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M18.333 13.144a12.884 12.884 0 0 1 .927-.235l.209-.044a.5.5 0 0 0 0-1 14.663 14.663 0 0 1-1.138-.276c-2.8-.815-4.275-2.382-5.082-5.113a13.224 13.224 0 0 1-.103-.37l-.084-.331a16.311 16.311 0 0 1-.12-.539.493.493 0 0 0-.473-.371.493.493 0 0 0-.475.376 14.724 14.724 0 0 1-.366 1.45l-.002.006c-.832 2.648-2.348 4.104-5.021 4.888a12.601 12.601 0 0 1-.927.235l-.21.045a.5.5 0 0 0 0 1 14.723 14.723 0 0 1 1.14.275c2.809.813 4.278 2.362 5.082 5.105l.083.299.02.077c.019-.016.06.332.08.317.023.098.046.198.068.3l.009.04.036.174a.493.493 0 0 0 .483.413.493.493 0 0 0 .477-.387 16.114 16.114 0 0 1 .196-.859 12.797 12.797 0 0 1 .17-.593l.002-.005c.832-2.645 2.346-4.094 5.019-4.877Zm-5.864 2.934a7.982 7.982 0 0 1 1.51-2.162 7.922 7.922 0 0 1 2.193-1.55 7.877 7.877 0 0 1-2.246-1.612 8.07 8.07 0 0 1-1.454-2.115 8.007 8.007 0 0 1-1.511 2.168A7.927 7.927 0 0 1 8.77 12.36a7.841 7.841 0 0 1 2.233 1.592 7.99 7.99 0 0 1 1.466 2.127Zm4.293-10.43a.153.153 0 0 0-.153.152h.004c0 .084.062.14.145.156l.023.006.032.007.008.003a3.2 3.2 0 0 1 1.104.508 2.487 2.487 0 0 1 .284.246l.003.002A2.521 2.521 0 0 1 18.872 8a4.606 4.606 0 0 1 .015.076.153.153 0 0 0 .152.154v-.004c.084 0 .14-.062.156-.145l.006-.023.008-.032c0-.002 0-.005.002-.008.113-.432.284-.801.508-1.104a2.479 2.479 0 0 1 .425-.444 2.521 2.521 0 0 1 1.172-.517.15.15 0 0 0 .15-.153c0-.084-.063-.14-.145-.156l-.024-.006-.032-.007-.008-.003a3.197 3.197 0 0 1-1.105-.509 2.5 2.5 0 0 1-.283-.245l-.002-.002a2.36 2.36 0 0 1-.158-.177 2.521 2.521 0 0 1-.517-1.172.153.153 0 0 0-.153-.153v.004c-.084 0-.14.062-.156.144l-.006.024-.007.032-.003.008a3.197 3.197 0 0 1-.508 1.104 2.48 2.48 0 0 1-.246.284l-.002.002a2.362 2.362 0 0 1-.177.158 2.52 2.52 0 0 1-1.115.506 3.248 3.248 0 0 1-.057.011ZM6.848 19.66a2.074 2.074 0 0 1 .93-.478 3.17 3.17 0 0 1 .14-.032.218.218 0 0 0 0-.436 5.028 5.028 0 0 1-.092-.028c-.386-.124-.706-.277-.963-.482a1.9 1.9 0 0 1-.225-.21 2.073 2.073 0 0 1-.47-.921 3.1 3.1 0 0 1-.031-.14.218.218 0 1 0-.436 0 5.43 5.43 0 0 1-.029.092c-.123.386-.277.706-.481.963a1.983 1.983 0 0 1-.21.225c-.242.22-.542.376-.922.47a3.036 3.036 0 0 1-.14.031.218.218 0 0 0 0 .436l.093.03c.385.122.705.276.962.48a2.105 2.105 0 0 1 .217.202l.008.009c.22.241.376.541.47.921a3.1 3.1 0 0 1 .032.14.218.218 0 0 0 .436 0l.028-.093c.124-.385.277-.705.482-.962a1.9 1.9 0 0 1 .201-.217Z"
                            fill="currentColor"></path>
                        <path
                            d="M9.6 5.613C7.91 5.466 6.98 4.874 6.484 3.7c-.179-.423-.304-.917-.384-1.5 0-.1-.1-.2-.2-.2s-.2.1-.2.2c-.08.583-.205 1.077-.384 1.5C4.821 4.874 3.891 5.466 2.2 5.613c-.1 0-.2.1-.2.2s.1.2.2.2c2.1.4 3.2 1.187 3.5 3.387 0 .1.1.2.2.2s.2-.1.2-.2c.3-2.2 1.4-2.987 3.5-3.387.1 0 .2-.1.2-.2s-.1-.2-.2-.2Z"
                            fill="currentColor"></path>
                    </svg>
                    Run AI review
                </a>
                {# <a href="/titan-mvp-1.2/form-overview/manage-form/make-draft-live/ai-compliance-demo"
                    class="govuk-link govuk-link--no-visited-state">
                    See demo with examples
                </a>
                <details class="govuk-details">
                    <summary class="govuk-details__summary">
                        <span class="govuk-details__summary-text">
                            What does the AI check?
                        </span>
                    </summary>
                    <div class="govuk-details__text">
                        <ul class="govuk-list govuk-list--bullet">
                            <li><strong>Content:</strong> Form name length, technical language, unclear labels, next
                                steps customization</li>
                            <li><strong>Form Design:</strong> Field types, team email, custom validation needs</li>
                            <li><strong>Form Structure:</strong> One thing per page, eligibility questions, question
                                protocols, branching logic</li>
                            <li><strong>Accessibility:</strong> Field labels, privacy notice customization</li>
                            <li><strong>User Experience:</strong> Form length, user journey, mobile testing</li>
                        </ul>
                        <p class="govuk-body-s govuk-!-margin-top-2">
                            <strong>Comprehensive Analysis:</strong> The AI analyzes your form content and provides
                            specific examples of what needs to be fixed, with actionable recommendations.
                        </p>
                    </div>
                </details> #}
            </div>
        </div>

        <div class="govuk-button-group">
            <form method="post" action="/titan-mvp-1.2/form-overview/make-draft-live" novalidate>
                <button type="submit" class="govuk-button" data-module="govuk-button">
                    Make form live (skip compliance check)
                </button>
                <a class="govuk-link govuk-link--no-visited-state" href="/titan-mvp-1.2/form-overview/index">
                    Cancel
                </a>
            </form>
        </div>
    </div>
</div>
{% endblock %}