{# {% extends "layouts/main.html" %} #}
{% extends "design-history/template.html" %}


{% from "components/service-header/macro.njk" import serviceHeader %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "govuk/components/breadcrumbs/macro.njk" import govukBreadcrumbs %}
{% from "govuk/components/tag/macro.njk" import govukTag %}
{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "components/contents-list-with-body.njk" import contentsListWithBody %}

{% block head %}
{{ super() }}
<style>
    .govuk-image {
        max-width: 600px;
        margin: 0 auto;
    }

    .govuk-image img {
        width: 100%;
        height: auto;
        display: block;
    }

    /* .app-prose-scope {
        max-width: 38em;
    } */

    .app-related-items {
        border-top: 2px solid #1d70b8;
        padding-top: 10px;
    }

    .app-related-items .govuk-list {
        margin-top: 0;
    }

    .app-related-items .govuk-list li {
        margin-bottom: 0;
    }

    .app-secondary-text {
        color: #505a5f !important;
        font-weight: normal !important;
    }

    /* Add iframe container styles */
    .iframe-container {
        border: 5px solid black;
        border-radius: 4px;
        padding: 0;
        overflow: hidden;
        position: relative;
    }

    .iframe-tabs {
        display: flex;
        justify-content: flex-end;
        border-bottom: 1px solid #ccc;
        background-color: #f8f8f8;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        z-index: 10;
        padding: 10px;
    }

    .iframe-tab {
        text-align: center;
        padding: 10px;
        font-size: 16px;
        text-decoration: none;
        cursor: pointer;
    }

    .iframe-tab:hover {
        background-color: #e8e8e8;
    }

    .iframe-container.fullscreen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        z-index: 9999;
        background-color: white;
    }

    .iframe-container.fullscreen .iframe-tabs {
        position: fixed;
        z-index: 9999;
        background-color: white;
    }

    .iframe-container.fullscreen .iframe-content {
        height: calc(100vh - 50px);
        width: 100%;
        border: none;
    }
</style>
<script src="/assets/javascripts/components/form-editor/post-navigation.js"></script>
{% endblock %}

{% block header %}
{{ serviceHeader({
organisationName: "Defra",
productName: "Forms Designer",
serviceName: "Design History",
containerClasses: containerClasses,
accountName: "Chris Smith (Admin)",
homepageLink: "/",
signOutLink: "/onboarding/sign-out-confirmation",
navigationItems: [
{ href: "/roles/my-account.html", text: "My account", id: "my-account" },
{ href: "/roles/manage-users.html", text: "Manage users", id: "manage-users" }
],
activeLinkId: ""
}) }}

<div class="x-govuk-masthead x-govuk-masthead--large">
    <div class="govuk-width-container">
        {{ govukBreadcrumbs({
        classes: "govuk-breadcrumbs--inverse",
        items: [
        {
        text: "Design History",
        href: "/design-history/index.html"
        },
        {
        text: "Forms Designer",
        href: "/design-history/forms-designer/index.html"
        },
        {
        text: "Redesign Journey"
        }
        ]
        }) }}

        <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible"
            style="border-bottom: 1px solid white; margin-bottom: 0" />

        <div class="govuk-grid-row">
            <div class="govuk-grid-column-full-from-desktop">
                <h1 class="x-govuk-masthead__title" id="overall-flow-and-page-types">
                    <span class="govuk-caption-l" style="color: white;">Transforming the Defra Forms Designer: A design
                        history</span>
                    Overall Flow and Page Types
                </h1>
                <div class="govuk-body" style="color: white; margin-top: 1em;">
                    <span class="govuk-tag govuk-tag--grey">Post</span>
                    <span style="margin-left: 1em;">Originally published on 15 May 2024</span>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-one-quarter app-contents-list--sticky govuk-!-padding-right-0">
        <div data-sticky-element=""
            class="gem-c-contents-list-with-body__link-wrapper gem-c-contents-list-with-body__sticky-element--enabled gem-c-contents-list-with-body__sticky-element--stuck-to-window govuk-!-padding-top-0 govuk-!-margin-top-0">
            <div class="gem-c-contents-list-with-body__link-container govuk-!-padding-top-0 govuk-!-margin-top-0">
                <a class="govuk-link govuk-link--no-visited-state gem-c-back-to-top-link govuk-!-display-none-print"
                    href="#overall-flow-and-page-types">
                    <svg class="gem-c-back-to-top-link__icon" xmlns="http://www.w3.org/2000/svg" width="13" height="17"
                        viewBox="0 0 13 17" aria-hidden="true" focusable="false">
                        <path fill="currentColor" d="M6.5 0L0 6.5 1.4 8l4-4v12.7h2V4l4.3 4L13 6.4z"></path>
                    </svg>
                    Back to top
                </a>
            </div>
        </div>
        {% set contents = [
        {
        href: "/design-history/forms-designer/index.html",
        text: "Re-design overview",
        items: [
        {
        href: "#problem-we-set-out-to-solve",
        text: "Problem we set out to solve"
        },
        {
        href: "#mapping-out-as-is",
        text: "Mapping out the current state (as-is)"
        },
        {
        href: "#initial-assessment",
        text: "Initial assessment: Accessibility and heuristic evaluation"
        }
        ]
        },
        {
        href: "/design-history/forms-designer/summary-of-changes.html",
        text: "Summary of changes and improvements"
        },
        {
        href: "/design-history/forms-designer/old-new-page2.html",
        text: "Changes to features (deep dive)"
        },
        {
        href: "#overall-flow-and-page-types",
        text: "User flow breakdown for the Titan release of the forms designer"
        }
        ] %}
        {{ contentsListWithBody({ contents: contents, alternative_line_style: true }) }}
    </div>
    <div class="govuk-grid-column-two-thirds">
        <div class="app-prose-scope">
            <h2 class="govuk-heading-l" id="overall-flow-and-page-types">Summary</h2>
            <p class="govuk-body">The Forms Designer follows a clear, intuitive flow that guides content
                designers
                through the form creation process. The service is built with progressive enhancement principles,
                ensuring a quality experience for all users, regardless of JavaScript availability.</p>

            <h3 class="govuk-heading-m">Form Management Pages</h3>
            <ul class="govuk-list govuk-list--bullet">
                <li><strong>Form Listing Page:</strong> Summary of all created pages and end pages (including
                    Check
                    answers page), with quick preview functionality when JavaScript is enabled</li>
                <li><strong>Page Re-ordering:</strong> Intuitive interface for changing page order using up and
                    down
                    controls</li>
                <li><strong>Form Preview:</strong> Complete preview of the form from start to finish</li>
            </ul>

            <h3 class="govuk-heading-m">Form Creation Pages</h3>
            <ul class="govuk-list govuk-list--bullet">
                <li><strong>Page Type Selection:</strong> Choose between question or guidance page creation</li>
                <li><strong>Information Type Selection:</strong> Select the specific type of question to add
                </li>
                <li><strong>Question Configuration:</strong> Configure individual questions with appropriate
                    settings
                </li>
                <li><strong>Page Overview:</strong> Summary of questions, page heading, guidance, multiple
                    response
                    settings, and question reordering</li>
            </ul>

            <h3 class="govuk-heading-m">Progressive Enhancement Features</h3>
            <p class="govuk-body">The service is designed to work effectively with or without JavaScript, with
                specific
                enhancements for JavaScript-enabled environments:</p>

            <h4 class="govuk-heading-s">JavaScript Disabled</h4>
            <ul class="govuk-list govuk-list--bullet">
                <li>Preview panels shown separately from configuration panels</li>
                <li>Preview buttons for viewing questions/pages or error messages</li>
                <li>Page reloads required for reordering actions</li>
            </ul>

            <h4 class="govuk-heading-s">JavaScript Enabled</h4>
            <ul class="govuk-list govuk-list--bullet">
                <li>Preview panels shown alongside configuration panels</li>
                <li>Skip links for quick navigation between panels (visible on tab focus)</li>
                <li>Left-border highlighting for questions in preview panel</li>
                <li>Guided input with dynamic highlighting of related preview content</li>
                <li>Smooth reordering without page reloads</li>
                <li>Focus-based highlighting of corresponding preview elements</li>
            </ul>

            <h3 class="govuk-heading-m">Reordering Features</h3>
            <p class="govuk-body">The service includes specialized reordering functionality for different
                elements:
            </p>
            <ul class="govuk-list govuk-list--bullet">
                <li>Lists (checkboxes, radios)</li>
                <li>Pages</li>
                <li>Questions</li>
            </ul>
            <p class="govuk-body">All reordering movements include specific screen reader announcements for
                accessibility.</p>

            <h2 class="govuk-heading-l" id="outcomes-and-next-steps">Outcomes and next steps</h2>
            <p class="govuk-body">Our iterative redesign led to tangible improvements:</p>
            <ul class="govuk-list govuk-list--bullet">
                <li>Users quickly recognised navigation elements and could intuitively interact with the
                    interface
                </li>
                <li>Clearer UI reduced cognitive load, improved confidence, and increased task success rates
                </li>
                <li>Improved component accessibility and usability, accelerating form creation and publication
                </li>
            </ul>

            <h3 class="govuk-heading-m">Next Steps</h3>
            <ul class="govuk-list govuk-list--bullet">
                <li>Continue refining terminology (e.g., 'repeater', 'short description')</li>
                <li>Improve layout clarity for sections and condition logic</li>
                <li>Support card sorts and diary studies to enhance guidance IA</li>
                <li>Conduct accessibility testing and continue inclusive design</li>
            </ul>

            <div class="govuk-inset-text">
                <p class="govuk-body">"The design feels really clean, really like a lot of space, very
                    methodical
                    step
                    by step" â€” Content designer feedback</p>
            </div>

            {# <div class="govuk-grid-column-one-third">
                <div class="app-related-items">
                    <h2 class="govuk-heading-s">Related posts</h2>
                    <nav role="navigation" aria-labelledby="related-posts">
                        <ul class="govuk-list govuk-list--spaced">
                            <li>
                                <a href="/design-history/form-overview/posts/form-details.html" class="govuk-link">How
                                    we
                                    present information about forms</a>
                                <p class="govuk-body-s govuk-!-margin-top-1">Originally published on 26 April
                                    2024</p>
                            </li>
                            <li>
                                <a href="/design-history/form-overview/posts/form-actions.html"
                                    class="govuk-link">Making
                                    form
                                    actions intuitive</a>
                                <p class="govuk-body-s govuk-!-margin-top-1">Originally published on 26 April
                                    2024</p>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div> #}

            {{ govukPagination({
            previous: {
            labelText: "Changes to features (deep dive)",
            href: "/design-history/forms-designer/old-new-page2.html"
            }
            }) }}
        </div>
    </div>
</div>
{% endblock %}